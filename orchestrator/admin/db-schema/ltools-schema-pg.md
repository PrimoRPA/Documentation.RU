# **Описание структуры БД ltools**

## \_\_EFMigrationsHistory

Системная[^1] таблица с миграциями

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 1. | MigrationId         | NO             | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 2. | ProductVersion      | NO             | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## Agents

RDP-пользователи[^2]

+---+-----------------+--------+-------+------------------------------+
| № | Наименование    | Доп    | Тип   | Описание                     |
|   | поля            | ускает | д     |                              |
| п |                 | NULL   | анных |                              |
| / |                 |        |       |                              |
| п |                 |        |       |                              |
+===+=================+========+=======+==============================+
| 1 | Id              | NO     | int   | PK                           |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 2 | AdminName       | YES    | nva   | Логин RDP-пользователя. Не   |
| . |                 |        | rchar | обязательно администратора.  |
|   |                 |        |       | Учетка, под которой          |
|   |                 |        |       | запускается робот для        |
|   |                 |        |       | варианта удержания           |
|   |                 |        |       | RDP-сессии для случая        |
|   |                 |        |       | удержания RDP-сессий внешней |
|   |                 |        |       | службой. Должен совпадать с  |
|   |                 |        |       | локальной/доменной учеткой   |
|   |                 |        |       | RDP-пользователя             |
+---+-----------------+--------+-------+------------------------------+
| 3 | AdminPassword   | YES    | nva   | Пароль RDP-пользователя      |
| . |                 |        | rchar |                              |
|   |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 4 | WorkerId        | NO     | int   | Машина робота (FK)           |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 5 | Notificated     | YES    | bit   | Не используется. Оставлено   |
| . |                 |        |       | для совместимости со старыми |
|   |                 |        |       | версиями                     |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 6 | KeepRDPSession  | NO     | bit   | Поддерживать активной        |
| . |                 |        |       | RDP-сессию. Флаг             |
|   |                 |        |       | устанавливается вручную в    |
|   |                 |        |       | Оркестраторе, или при        |
|   |                 |        |       | запуске робота               |
|   |                 |        |       | автоматически, если робот    |
|   |                 |        |       | развернут под                |
|   |                 |        |       | RDP-пользователем.           |
+---+-----------------+--------+-------+------------------------------+
| 7 | Connected       | NO     | bit   | Признак, что RDP-сессия      |
| . |                 |        |       | активна                      |
|   |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 8 | Con             | YES    | date  | Дата изменения состояния     |
| . | nectedChangedAt |        | time2 | RDP-сессии, например         |
|   |                 |        |       | отключилась/подключилась     |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 9 | Con             | YES    | date  | Дата обновления состояния    |
| . | nectedUpdatedAt |        | time2 | RDP-сессии при периодическом |
|   |                 |        |       | опросе для её поддержания.   |
|   |                 |        |       | Не обязательно переключение  |
|   |                 |        |       | типа                         |
|   |                 |        |       | отключилась/подключилась,    |
|   |                 |        |       | дата срабатывания            |
|   |                 |        |       | периодического опроса        |
+---+-----------------+--------+-------+------------------------------+
| 1 | Auth            | NO     | int   | RDP-параметр[^3]             |
| 0 | enticationLevel |        |       |                              |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 1 | ColorDepth      | NO     | int   | RDP-параметр                 |
| 1 |                 |        |       |                              |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 1 | DesktopHeight   | NO     | int   | RDP-параметр                 |
| 2 |                 |        |       |                              |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 1 | DesktopWidth    | NO     | int   | RDP-параметр                 |
| 3 |                 |        |       |                              |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 1 | Enabl           | NO     | bit   | RDP-параметр                 |
| 4 | eCredSspSupport |        |       |                              |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 1 | Negotia         | NO     | bit   | RDP-параметр                 |
| 5 | teSecurityLayer |        |       |                              |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 1 | RdpPort         | YES    | int   | Специфический (отличается от |
| 6 |                 |        |       | по умолчанию) порт для RDP   |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 1 | NeedForLogOff   | NO     | bit   | Сигнал разлогинить           |
| 7 |                 |        |       | пользователя после закрытия  |
| . |                 |        |       | его RDP-сессии. Отключение   |
|   |                 |        |       | RDP-сессии не разлогинивает  |
|   |                 |        |       | пользователя, занятые им     |
|   |                 |        |       | ресурсы удерживаются. Этот   |
|   |                 |        |       | сигнал позволяет             |
|   |                 |        |       | Оркестратору именно          |
|   |                 |        |       | разлогинить пользователя,    |
|   |                 |        |       | что освободит занятые        |
|   |                 |        |       | пользователем ресурсы        |
+---+-----------------+--------+-------+------------------------------+
| 1 | LogOffStartedAt | YES    | date  | Дата старта команды          |
| 8 |                 |        | time2 | разлогона RDP-пользователя   |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 1 | Lo              | YES    | date  | Дата завершения команды      |
| 9 | gOffCompletedAt |        | time2 | разлогона RDP-пользователя   |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 2 | LogOffSuccess   | YES    | bit   | Результат завершения команды |
| 0 |                 |        |       | разлогона RDP-пользователя   |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 2 | AttemptLogOff   | NO     | int   | Попытка разлогона            |
| 1 |                 |        |       |                              |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 2 | Att             | NO     | int   | Попытка отправки команды     |
| 2 | emptStartLogOff |        |       | разлогона в Агент            |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+
| 2 | Connect         | NO     | int   | Счетчик постоянных           |
| 3 | edFlickersCount |        |       | переключений (на основе      |
| . |                 |        |       | сравнения ConnectedChangedAt |
|   |                 |        |       | и текущей даты, разность     |
|   |                 |        |       | задается в конфиге).; Если   |
|   |                 |        |       | доходит до некоторого        |
|   |                 |        |       | значения (задается в         |
|   |                 |        |       | конфиге), является признаком |
|   |                 |        |       | мерцания RDP-сессии.; Тогда  |
|   |                 |        |       | устанавливается флаг         |
|   |                 |        |       | ConnectedFlickers            |
+---+-----------------+--------+-------+------------------------------+
| 2 | Co              | NO     | bit   | Флаг мерцания RDP-сессии. По |
| 4 | nnectedFlickers |        |       | этому флагу выбираются       |
| . |                 |        |       | мерцающие RDP-сессии для     |
|   |                 |        |       | виджета на главной           |
+---+-----------------+--------+-------+------------------------------+
| 2 | Us              | NO     | bit   | Признак загрузки профиля     |
| 5 | erProfileLoaded |        |       | пользователя. Если сессия    |
| . |                 |        |       | открылась, еще может не      |
|   |                 |        |       | прогрузиться профиль; (с     |
|   |                 |        |       | AD-пользователями это иногда |
|   |                 |        |       | занимает много времени). А   |
|   |                 |        |       | без прогруженного профиля    |
|   |                 |        |       | работать не будет; запуск    |
|   |                 |        |       | Windows-task (75%)           |
+---+-----------------+--------+-------+------------------------------+
| 2 | NodeId          | YES    | int   | Идентификатор ноды, которая  |
| 6 |                 |        |       | меняла запись                |
| . |                 |        |       |                              |
|   |                 |        |       |                              |
+---+-----------------+--------+-------+------------------------------+

## Assets

Ресурс робота, централизованно хранящийся в Оркестраторе. Робот/Студия
может писать/читать ресурс

+---+----------------------+---------+--------+------------------------+
| № | Наименование поля    | До      | Тип    | Описание               |
|   |                      | пускает | данных |                        |
| п |                      | NULL    |        |                        |
| / |                      |         |        |                        |
| п |                      |         |        |                        |
+===+======================+=========+========+========================+
| 1 | Id                   | NO      | int    | PK                     |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 2 | Name                 | YES     | nv     | Наименование ресурса.  |
| . |                      |         | archar | При использовании      |
|   |                      |         |        | равносильно имени      |
|   |                      |         |        | переменной             |
+---+----------------------+---------+--------+------------------------+
| 3 | Value                | YES     | nv     | Значение               |
| . |                      |         | archar | (зашифрованное)        |
|   |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 4 | ValueType            | NO      | int    | Тип значения           |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 5 | RobotId              | YES     | int    | Робот-владелец (FK).   |
| . |                      |         |        | Если не NULL, только   |
|   |                      |         |        | робот-владелец имеет   |
|   |                      |         |        | доступ[^4]             |
+---+----------------------+---------+--------+------------------------+
| 6 | Readonly             | NO      | bit    | Флаг только для чтения |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 7 | TenantId             | YES     | nv     | Идентификатор тенанта  |
| . |                      |         | archar |                        |
|   |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 8 | Description          | YES     | nv     | Описание ресурса       |
| . |                      |         | archar |                        |
|   |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 9 | CyberArkAccountId    | YES     | nv     | Идентификатор аккаунта |
| . |                      |         | archar |                        |
|   |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | CyberArkActionType   | YES     | nv     | Тип хранилища CyberArk |
| 0 |                      |         | archar | (устар.)               |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | CyberArkIsUse        | YES     | bit    | Тип хранилища CyberArk |
| 1 |                      |         |        | (устар.)               |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | CyberArkMachine      | YES     | nv     | Тип хранилища CyberArk |
| 2 |                      |         | archar | (устар.)               |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | CyberArkReason       | YES     | nv     | Тип хранилища CyberArk |
| 3 |                      |         | archar | (устар.)               |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | CyberArkTicketId     | YES     | nv     | Тип хранилища CyberArk |
| 4 |                      |         | archar | (устар.)               |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | CyberAr              | YES     | nv     | Тип хранилища CyberArk |
| 5 | kTicketingSystemName |         | archar | (устар.)               |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | CyberArkVersion      | YES     | int    | Тип хранилища CyberArk |
| 6 |                      |         |        | (устар.)               |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | ExtStoreType         | YES     | int    | Тип внешнего хранилища |
| 7 |                      |         |        |                        |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | LockTimeout          | YES     | int    | Таймаут (сек)          |
| 8 |                      |         |        | блокировки             |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 1 | LockType             | YES     | int    | Тип блокировки         |
| 9 |                      |         |        |                        |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 2 | RobotLockAt          | YES     | dat    | Дата блокировки        |
| 0 |                      |         | etime2 |                        |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 2 | RobotLockId          | YES     | int    | Заблокировавший робот  |
| 1 |                      |         |        |                        |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+
| 2 | RobotLockUserId      | YES     | nv     | Заблокировавший        |
| 2 |                      |         | archar | аттендед-робот         |
| . |                      |         |        |                        |
|   |                      |         |        |                        |
+---+----------------------+---------+--------+------------------------+

## AssetRobots

Назначение ресурсов отдельным роботам. Только эти роботы (и студия)
имеют доступ к ресурсам

+---+-------------+----------+-------+--------------------------------+
| № | Н           | Д        | Тип   | Описание                       |
|   | аименование | опускает | д     |                                |
| п | поля        | NULL     | анных |                                |
| / |             |          |       |                                |
| п |             |          |       |                                |
+===+=============+==========+=======+================================+
| 1 | Id          | NO       | int   | PK                             |
| . |             |          |       |                                |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 2 | RobotId     | YES      | int   | Робот-владелец (FK). Если не   |
| . |             |          |       | NULL, только робот-владелец    |
|   |             |          |       | имеет доступ                   |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 3 | AssetId     | NO       | bit   | Флаг только для чтения         |
| . |             |          |       |                                |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 4 | Key         | YES      | nva   |                                |
| . |             |          | rchar |                                |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+

## Assignments

Задания (для автоматического запуска проектов на роботах)

+---+-----------------------+--------+-------+-----------------------+
| № | Наименование поля     | Доп    | Тип   | Описание              |
|   |                       | ускает | д     |                       |
| п |                       | NULL   | анных |                       |
| / |                       |        |       |                       |
| п |                       |        |       |                       |
+===+=======================+========+=======+=======================+
| 1 | Id                    | NO     | int   | PK                    |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 2 | Name                  | YES    | nva   | Наименование          |
| . |                       |        | rchar |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 3 | Description           | YES    | nva   | Подробное описание    |
| . |                       |        | rchar |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 4 | RpaProjectId          | NO     | int   | RPA-проект (FK)       |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 5 | ScheduleId            | YES    | int   | Не используется       |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 6 | LockAt                | YES    | date  | Системное             |
| . |                       |        | time2 |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 7 | TenantId              | YES    | nva   | Идентификатор тенанта |
| . |                       |        | rchar |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 8 | Version               | NO     | int   | Системное             |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 9 | NodeLock              | YES    | int   | Системное             |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 1 | Signal                | YES    | int   | Системное             |
| 0 |                       |        |       |                       |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 1 | SignalCreatedAt       | YES    | date  | Системное             |
| 1 |                       |        | time2 |                       |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 1 | StartedAt             | YES    | date  | Дата запуска задания. |
| 2 |                       |        | time2 | Не робота по задания, |
| . |                       |        |       | а именно задания.     |
|   |                       |        |       | Альтернатива --       |
|   |                       |        |       | задание не запущено   |
+---+-----------------------+--------+-------+-----------------------+
| 1 | Status                | NO     | int   | Состояние задания     |
| 3 |                       |        |       | (enum).               |
| . |                       |        |       |                       |
|   |                       |        |       | New = 0, Running =    |
|   |                       |        |       | 1,Complete = 2,       |
|   |                       |        |       | Paused = 3            |
+---+-----------------------+--------+-------+-----------------------+
| 1 | FiredAt               | YES    | date  | Дата срабатывания     |
| 4 |                       |        | time2 | триггера (одного из   |
| . |                       |        |       | многих) задания       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 1 | NextFiredAt           | YES    | date  | Следующая дата        |
| 5 |                       |        | time2 | срабатывания          |
| . |                       |        |       | триггера. Только для  |
|   |                       |        |       | периодических         |
|   |                       |        |       | триггеов              |
+---+-----------------------+--------+-------+-----------------------+
| 1 | StateChangedAt        | YES    | date  | Дата изменения        |
| 6 |                       |        | time2 | состояния задания     |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 1 | CountRobots           | YES    | int   | Количество роботов,   |
| 7 |                       |        |       | которые одновременно  |
| . |                       |        |       | запустятся по         |
|   |                       |        |       | заданию. По умолчанию |
|   |                       |        |       | -- один               |
+---+-----------------------+--------+-------+-----------------------+
| 1 | WithTriggers          | YES    | bit   | Флаг (избыточен,      |
| 8 |                       |        |       | оптимизация), что     |
| . |                       |        |       | задание с триггерами. |
|   |                       |        |       | Иначе задание с       |
|   |                       |        |       | ручным запуском       |
+---+-----------------------+--------+-------+-----------------------+
| 1 | Automatic             | NO     | bit   | Если у проекта        |
| 9 | ApplyActiveRpaProject |        |       | задания изменится     |
| . |                       |        |       | признак активности,   |
|   |                       |        |       | автоматически будет в |
|   |                       |        |       | задании               |
|   |                       |        |       | использоваться        |
|   |                       |        |       | активная версия       |
|   |                       |        |       | проекта               |
+---+-----------------------+--------+-------+-----------------------+
| 2 | AllowOverlay          | NO     | bit   | Разрешить наложение   |
| 0 |                       |        |       |                       |
| . |                       |        |       |                       |
|   |                       |        |       |                       |
+---+-----------------------+--------+-------+-----------------------+
| 2 | IsMassOperation       | YES    | bit   | Задание остановлено в |
| 1 |                       |        |       | результате массовой   |
| . |                       |        |       | операции:; True - да  |
|   |                       |        |       | (и статус Пауза );    |
|   |                       |        |       | False - нет; null -   |
|   |                       |        |       | для совместимости с   |
|   |                       |        |       | версией, где          |
|   |                       |        |       | триггеров еще нет     |
+---+-----------------------+--------+-------+-----------------------+
| 2 | UserFolderId          | NO     | int   | Папка пользователя, в |
| 2 |                       |        |       | контексте которой     |
| . |                       |        |       | произощло событие;    |
|   |                       |        |       | Для кэширования       |
|   |                       |        |       | списка Id роботов     |
|   |                       |        |       | папки                 |
+---+-----------------------+--------+-------+-----------------------+

## AssignmentSchedulerSignalNodeConfirms

Системная таблица. Запросы к ней не рекомендуются, за исключением особых
случаев разбора ошибок, согласованных с Вендором

+---+---------------+------------+-----------+------------------------+
| № | Наименование  | Допускает  | Тип       | Описание               |
|   | поля          | NULL       | данных    |                        |
| п |               |            |           |                        |
| / |               |            |           |                        |
| п |               |            |           |                        |
+===+===============+============+===========+========================+
| 1 | Id            | NO         | uniquei   |                        |
| . |               |            | dentifier |                        |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 2 | Node          | YES        | nvarchar  | Идентификатор ноды     |
| . |               |            |           | WebApi                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 3 | Confirm       | NO         | bit       | Подтверждение          |
| . |               |            |           |                        |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 4 | CreatedAt     | YES        | datetime2 | Дата/время создания    |
| . |               |            |           | записи                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 5 | UpdatedAt     | YES        | datetime2 | Дата/время обновления  |
| . |               |            |           | записи                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 6 | AssignmentId  | NO         | int       |                        |
| . |               |            |           |                        |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+

## AssignmentVariables

Привязка переменных проекта к заданию

+---+---------------+----------+--------+-----------------------------+
| № | Наименование  | Д        | Тип    | Описание                    |
|   | поля          | опускает | данных |                             |
| п |               | NULL     |        |                             |
| / |               |          |        |                             |
| п |               |          |        |                             |
+===+===============+==========+========+=============================+
| 1 | Id            | NO       | int    | PK                          |
| . |               |          |        |                             |
|   |               |          |        |                             |
|   |               |          |        |                             |
+---+---------------+----------+--------+-----------------------------+
| 2 | AssignmentId  | NO       | int    | Задание (FK)                |
| . |               |          |        |                             |
|   |               |          |        |                             |
|   |               |          |        |                             |
+---+---------------+----------+--------+-----------------------------+
| 3 | RpaProj       | NO       | int    | Проект (FK)                 |
| . | ectVariableId |          |        |                             |
|   |               |          |        |                             |
|   |               |          |        |                             |
+---+---------------+----------+--------+-----------------------------+
| 4 | Value         | YES      | nv     | Значение, которое имеет     |
| . |               |          | archar | переменная проекта на       |
|   |               |          |        | задании                     |
|   |               |          |        |                             |
+---+---------------+----------+--------+-----------------------------+

## BlackWhiteIpStudioRules

Запись ЧБ списка IP-шников для запуска Primo.Studio

+---+---------------+---------+--------+------------------------------+
| № | Наименование  | До      | Тип    | Описание                     |
|   | поля          | пускает | данных |                              |
| п |               | NULL    |        |                              |
| / |               |         |        |                              |
| п |               |         |        |                              |
+===+===============+=========+========+==============================+
| 1 | Id            | NO      | int    |                              |
| . |               |         |        |                              |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 2 | ChangedAt     | YES     | dat    | Дата изменения записи        |
| . |               |         | etime2 |                              |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 3 | Com           | YES     | nv     | Маски имен машин             |
| . | puterNameMask |         | archar |                              |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 4 | CreatedAt     | NO      | dat    | Дата создания записи         |
| . |               |         | etime2 |                              |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 5 | Description   | YES     | nv     | Описание                     |
| . |               |         | archar |                              |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 6 | Ip            | YES     | int    | \-                           |
| . | AddressFromId |         |        |                              |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 7 | Ip            | YES     | int    | \-                           |
| . | AddressMaskId |         |        |                              |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 8 | IpAddressToId | YES     | int    | \-                           |
| . |               |         |        |                              |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 9 | IsWhiteRule   | NO      | bit    | Разрешено (правило из белого |
| . |               |         |        | списка)                      |
|   |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 1 | Name          | NO      | nv     | Наименование                 |
| 0 |               |         | archar |                              |
| . |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 1 | RuleType      | NO      | int    | Тип ЧБ правила: диапазн IP   |
| 1 |               |         |        | адресов, IP маска подсети    |
| . |               |         |        | или маска имен машин         |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+
| 1 | TenantId      | YES     | nv     | Идентификатор тенанта        |
| 2 |               |         | archar |                              |
| . |               |         |        |                              |
|   |               |         |        |                              |
+---+---------------+---------+--------+------------------------------+

## BusyRobotLicenseItems

Системная таблица. Для оптимизации. Использовать нельзя

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 13 | Id                  | NO             | int        |           |
| .  |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 14 | RobotKey            | YES            | nvarchar   |           |
| .  |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 15 | CreatedAt           | NO             | datetime2  |           |
| .  |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## BusyRobotLicenses

Системная таблица. Использовать нельзя

+---+-------------+----------+-----------+----------------------------+
| № | Н           | Д        | Тип       | Описание                   |
|   | аименование | опускает | данных    |                            |
| п | поля        | NULL     |           |                            |
| / |             |          |           |                            |
| п |             |          |           |                            |
+===+=============+==========+===========+============================+
| 1 | Id          | NO       | int       |                            |
| . |             |          |           |                            |
|   |             |          |           |                            |
|   |             |          |           |                            |
+---+-------------+----------+-----------+----------------------------+
| 2 | Value       | YES      | nvarchar  | Зашифроанный json с        |
| . |             |          |           | массивом занятых лицензий  |
|   |             |          |           |                            |
|   |             |          |           |                            |
+---+-------------+----------+-----------+----------------------------+
| 3 | Version     | YES      | uniquei   | Служебное поле для         |
| . |             |          | dentifier | разруливания конкурентного |
|   |             |          |           | доступа                    |
|   |             |          |           |                            |
+---+-------------+----------+-----------+----------------------------+

## BusyStudioLicenses

Системная таблица. Использовать нельзя

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 1. | Id                  | NO             | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 2. | Value               | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## ConfigHash

Системная таблица. Использовать нельзя

+---+------------+---------+--------+---------------------------------+
| № | На         | До      | Тип    | Описание                        |
|   | именование | пускает | данных |                                 |
| п | поля       | NULL    |        |                                 |
| / |            |         |        |                                 |
| п |            |         |        |                                 |
+===+============+=========+========+=================================+
| 1 | Id         | NO      | int    | PK                              |
| . |            |         |        |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 2 | Node       | NO      | nv     | Идентификатор ноды WebApi       |
| . |            |         | archar |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 3 | Hash       | NO      | nv     | Вычисляется на основе           |
| . |            |         | archar | конкатенации всех файлов        |
|   |            |         |        | конфига в алфавитном порядке    |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 4 | Pr         | YES     | nv     | Прошлое значение Hash           |
| . | eviousHash |         | archar |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 5 | UpdatedAt  | YES     | dat    | Дата изменения.                 |
| . |            |         | etime2 | Устанавливается, если с         |
|   |            |         |        | прошлого запуска хэш изменился. |
|   |            |         |        | Является инцедентом             |
|   |            |         |        | безопасности                    |
+---+------------+---------+--------+---------------------------------+

## CurrentSystemParameters

Системная таблица. Использовать нельзя

+---+-----------------+-------------+----------+----------------------+
| № | Наименование    | Допускает   | Тип      | Описание             |
|   | поля            | NULL        | данных   |                      |
| п |                 |             |          |                      |
| / |                 |             |          |                      |
| п |                 |             |          |                      |
+===+=================+=============+==========+======================+
| 1 | Id              | NO          | int      |                      |
| . |                 |             |          |                      |
|   |                 |             |          |                      |
|   |                 |             |          |                      |
+---+-----------------+-------------+----------+----------------------+
| 2 | DateTimeValue   | YES         | nvarchar | Текущее системное    |
| . |                 |             |          | время                |
|   |                 |             |          |                      |
|   |                 |             |          |                      |
+---+-----------------+-------------+----------+----------------------+

## DeployTemplates

Шаблон развертывания робота

+---+--------------+-----------+--------+-----------------------------+
| № | Наименование | Допускает | Тип    | Описание                    |
|   | поля         | NULL      | данных |                             |
| п |              |           |        |                             |
| / |              |           |        |                             |
| п |              |           |        |                             |
+===+==============+===========+========+=============================+
| 1 | Id           | NO        | int    |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 2 | Name         | YES       | nv     |                             |
| . |              |           | archar |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 3 | NoConsole    | NO        | bit    |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 4 | LogToFile    | NO        | bit    |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 5 | Log          | NO        | bit    |                             |
| . | CustomToFile |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 6 | Log          | YES       | int    |                             |
| . | MessageTypes |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 7 | LogFormat    | YES       | int    |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 8 | ThreadsCount | YES       | int    |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 9 | Thre         | YES       | int    |                             |
| . | adStartIndex |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | ThrPriority  | YES       | int    |                             |
| 0 |              |           |        |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | AppPriority  | YES       | int    |                             |
| 1 |              |           |        |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | MinThreads   | YES       | int    |                             |
| 2 |              |           |        |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | Sta          | YES       | int    |                             |
| 3 | rtupPosition |           |        |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | DebugOptions | YES       | int    |                             |
| 4 |              |           |        |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | Disabled     | NO        | bit    |                             |
| 5 |              |           |        |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | TenantId     | YES       | nv     | Идентификатор тенанта       |
| 6 |              |           | archar |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | LogInterval  | YES       | int    | Интервал отправки лога в    |
| 7 |              |           |        | оркестратор (мсек)          |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 1 | LogPackSize  | YES       | int    | Размер пачки лога           |
| 8 |              |           |        |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+

## ExchangeQueueRobotPermissions

Права робота на очередь обмена данными. Если задано, права определяются
по этой таблице

+---+---------------+------------+------------+-----------------------+
| № | Наименование  | Допускает  | Тип данных | Описание              |
|   | поля          | NULL       |            |                       |
| п |               |            |            |                       |
| / |               |            |            |                       |
| п |               |            |            |                       |
+===+===============+============+============+=======================+
| 1 | Id            | NO         | unique     | PK                    |
| . |               |            | identifier |                       |
|   |               |            |            |                       |
|   |               |            |            |                       |
+---+---------------+------------+------------+-----------------------+
| 2 | Ex            | NO         | unique     | Очередь обмена        |
| . | changeQueueId |            | identifier | данными (FK)          |
|   |               |            |            |                       |
|   |               |            |            |                       |
+---+---------------+------------+------------+-----------------------+
| 3 | RobotId       | NO         | int        | Робот (FK)            |
| . |               |            |            |                       |
|   |               |            |            |                       |
|   |               |            |            |                       |
+---+---------------+------------+------------+-----------------------+
| 4 | Read          | NO         | bit        | Можно читать          |
| . |               |            |            |                       |
|   |               |            |            |                       |
|   |               |            |            |                       |
+---+---------------+------------+------------+-----------------------+
| 5 | Write         | NO         | bit        | Можно писать          |
| . |               |            |            |                       |
|   |               |            |            |                       |
|   |               |            |            |                       |
+---+---------------+------------+------------+-----------------------+

## ExchangeQueues

Очередь обмена данными

+---+-----------------------+--------+-----------+--------------------+
| № | Наименование поля     | Доп    | Тип       | Описание           |
|   |                       | ускает | данных    |                    |
| п |                       | NULL   |           |                    |
| / |                       |        |           |                    |
| п |                       |        |           |                    |
+===+=======================+========+===========+====================+
| 1 | Id                    | NO     | uniquei   | PK                 |
| . |                       |        | dentifier |                    |
|   |                       |        |           |                    |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 2 | Name                  | NO     | nvarchar  | Наименование       |
| . |                       |        |           |                    |
|   |                       |        |           |                    |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 3 | Description           | YES    | nvarchar  | Описание           |
| . |                       |        |           |                    |
|   |                       |        |           |                    |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 4 | Public                | NO     | bit       | Если очередь       |
| . |                       |        |           | публичная, она     |
|   |                       |        |           | доступна для       |
|   |                       |        |           | записи/чтения всем |
|   |                       |        |           | Роботам            |
+---+-----------------------+--------+-----------+--------------------+
| 5 | CreatedAt             | NO     | datetime2 | Дата создания      |
| . |                       |        |           | очереди            |
|   |                       |        |           |                    |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 6 | CreatedRobotName      | YES    | nvarchar  | Создавший очередь  |
| . |                       |        |           | Робот              |
|   |                       |        |           |                    |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 7 | ChangedRobotAt        | YES    | datetime2 | Дата/время         |
| . |                       |        |           | последнего         |
|   |                       |        |           | изменения очереди  |
|   |                       |        |           | Роботом            |
+---+-----------------------+--------+-----------+--------------------+
| 8 | ChangedRobotName      | YES    | nvarchar  | Последний          |
| . |                       |        |           | изменивший очередь |
|   |                       |        |           | Робот              |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 9 | TenantId              | YES    | nvarchar  | Идентификатор      |
| . |                       |        |           | тенанта            |
|   |                       |        |           |                    |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 1 | TTL                   | YES    | int       | Время жизни        |
| 0 |                       |        |           | элемента очереди   |
| . |                       |        |           | (сек.)             |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 1 | MaxRetray             | YES    | int       | Максимальное       |
| 1 |                       |        |           | количество         |
| . |                       |        |           | повторных          |
|   |                       |        |           | помещений элемента |
|   |                       |        |           | в очередь при      |
|   |                       |        |           | фиксации статуса   |
|   |                       |        |           | ошибка             |
+---+-----------------------+--------+-----------+--------------------+
| 1 | RetrayType            | YES    | int       | Тип повторного     |
| 2 |                       |        |           | помещения элемента |
| . |                       |        |           | в очередь при      |
|   |                       |        |           | ошибке. Error = 1, |
|   |                       |        |           | BusinesError = 2   |
+---+-----------------------+--------+-----------+--------------------+
| 1 | AnalyticsSchema       | YES    | nvarchar  | JSON-схема, если   |
| 3 |                       |        |           | задана, элемент    |
| . |                       |        |           | должен             |
|   |                       |        |           | соответствовать ей |
+---+-----------------------+--------+-----------+--------------------+
| 1 | OutputSchema          | YES    | nvarchar  | JSON-схема, если   |
| 4 |                       |        |           | задана, элемент    |
| . |                       |        |           | должен             |
|   |                       |        |           | соответствовать ей |
+---+-----------------------+--------+-----------+--------------------+
| 1 | SpecificSchema        | YES    | nvarchar  | JSON-схема, если   |
| 5 |                       |        |           | задана, элемент    |
| . |                       |        |           | должен             |
|   |                       |        |           | соответствовать ей |
+---+-----------------------+--------+-----------+--------------------+
| 1 | NaturalKeyUniqueness  | YES    | int       | Тип уникальности   |
| 6 |                       |        |           | натурального       |
| . |                       |        |           | (                  |
|   |                       |        |           | пользовательского) |
|   |                       |        |           | ключа элемента     |
|   |                       |        |           | очереди обмена     |
|   |                       |        |           | данными. Local = 0 |
|   |                       |        |           | (проверка на       |
|   |                       |        |           | уникальность       |
|   |                       |        |           | внутри очереди),   |
|   |                       |        |           | Global = 1         |
+---+-----------------------+--------+-----------+--------------------+
| 1 | RobotCa               | NO     | bit       | Робот может        |
| 7 | nDeleteOnlyItsOwnItem |        |           | удалять только     |
| . |                       |        |           | свои (которые он   |
|   |                       |        |           | создал) элементы   |
|   |                       |        |           | очереди            |
+---+-----------------------+--------+-----------+--------------------+
| 1 | V                     | YES    | int       | Таймаут (сек),     |
| 8 | aluesRobotLockTimeout |        |           | после которого     |
| . |                       |        |           | снимается          |
|   |                       |        |           | блокировка         |
|   |                       |        |           | элементов очереди  |
+---+-----------------------+--------+-----------+--------------------+
| 1 | Encrypted             | NO     | bit       | Все элементы       |
| 9 |                       |        |           | очереди            |
| . |                       |        |           | зашифрованы        |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 2 | PhysicalRemoval       | NO     | bit       | Если True, то при  |
| 0 |                       |        |           | удалении очередь и |
| . |                       |        |           | все ее элементы    |
|   |                       |        |           | физически          |
|   |                       |        |           | удаляются из БД,   |
|   |                       |        |           | иначе - логическое |
|   |                       |        |           | удаление.          |
+---+-----------------------+--------+-----------+--------------------+
| 2 | ChangedAttendedUser   | YES    | nvarchar  | Для                |
| 1 |                       |        |           | аттендед-робота -  |
| . |                       |        |           | последний          |
|   |                       |        |           | изменивший очередь |
|   |                       |        |           | пользователь       |
+---+-----------------------+--------+-----------+--------------------+
| 2 | FIFOLocked            | YES    | int       | (устар.)           |
| 2 |                       |        |           |                    |
| . |                       |        |           |                    |
|   |                       |        |           |                    |
+---+-----------------------+--------+-----------+--------------------+
| 2 | FIFORetry             | YES    | int       | Количество ретраев |
| 3 |                       |        |           | при извлечении по  |
| . |                       |        |           | FIFO при           |
|   |                       |        |           | FIFO               |
|   |                       |        |           | LockedType.NoWait; |
|   |                       |        |           | Если не задан,     |
|   |                       |        |           | аналогичный        |
|   |                       |        |           | параметр берется   |
|   |                       |        |           | из конфига         |
+---+-----------------------+--------+-----------+--------------------+
| 2 | Prefet                | YES    | int       | Интервал (мсек)    |
| 4 | chBufferResetInterval |        |           | сброса             |
| . |                       |        |           | PrefetchBuffer;    |
|   |                       |        |           | Если не задан,     |
|   |                       |        |           | аналогичный        |
|   |                       |        |           | параметр берется   |
|   |                       |        |           | из конфига         |
+---+-----------------------+--------+-----------+--------------------+
| 2 | PrefetchDepth         | YES    | int       | Глубина            |
| 5 |                       |        |           | предварительной    |
| . |                       |        |           | выборки для        |
|   |                       |        |           | PrefetchBuffer.;   |
|   |                       |        |           | Если не задан,     |
|   |                       |        |           | аналогичный        |
|   |                       |        |           | параметр берется   |
|   |                       |        |           | из конфига         |
+---+-----------------------+--------+-----------+--------------------+
| 2 | PrefetchOffset        | YES    | int       | Отступ             |
| 6 |                       |        |           | предварительной    |
| . |                       |        |           | выборки для        |
|   |                       |        |           | PrefetchBuffer.    |
|   |                       |        |           | Параметр           |
|   |                       |        |           | применяется        |
|   |                       |        |           | случайным образом, |
|   |                       |        |           | если он больше 0.; |
|   |                       |        |           | Чтобы разные ноды  |
|   |                       |        |           | имели более        |
|   |                       |        |           | высокий шанс       |
|   |                       |        |           | заполнить свой     |
|   |                       |        |           | PrefetchBuffer при |
|   |                       |        |           | его одновременном  |
|   |                       |        |           | заполнении; (для   |
|   |                       |        |           | уменьшения         |
|   |                       |        |           | вероятности        |
|   |                       |        |           | попасть в          |
|   |                       |        |           | заблокированный    |
|   |                       |        |           | жругой нодой       |
|   |                       |        |           | элементы очереди); |
|   |                       |        |           | Если не задан,     |
|   |                       |        |           | аналогичный        |
|   |                       |        |           | параметр берется   |
|   |                       |        |           | из конфига         |
+---+-----------------------+--------+-----------+--------------------+
| 2 | SpeedModeInterval     | YES    | int       | Интервал (мсек)    |
| 7 |                       |        |           | между 2-мя         |
| . |                       |        |           | последовательными  |
|   |                       |        |           | запросами к чтению |
|   |                       |        |           | из очереди по      |
|   |                       |        |           | FIFO,;             |
|   |                       |        |           | определяющий       |
|   |                       |        |           | переключение в     |
|   |                       |        |           | скоростной режим   |
|   |                       |        |           | (используется      |
|   |                       |        |           | PrefetchBuffer);   |
|   |                       |        |           | Если не задан,     |
|   |                       |        |           | аналогичный        |
|   |                       |        |           | параметр берется   |
|   |                       |        |           | из конфига         |
+---+-----------------------+--------+-----------+--------------------+

## ExchangeQueueStatisticAvgs

Среднее время обработки элемента очереди по окну. Ширина окна задается в
конфиге. Обновляется в фоновой службе через очередь в памяти

+---+--------------+----------+-----------+---------------------------+
| № | Наименование | Д        | Тип       | Описание                  |
|   | поля         | опускает | данных    |                           |
| п |              | NULL     |           |                           |
| / |              |          |           |                           |
| п |              |          |           |                           |
+===+==============+==========+===========+===========================+
| 1 | Id           | NO       | uniquei   |                           |
| . |              |          | dentifier |                           |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 2 | AvgTime      | YES      | numeric   | Среднее время обработки   |
| . |              |          |           | элемента очереди (мсек)   |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 3 | CreatedAt    | NO       | datetime2 | Дата/время создания окна  |
| . |              |          |           |                           |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 4 | Exc          | NO       | uniquei   | \-                        |
| . | hangeQueueId |          | dentifier |                           |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 5 | TenantId     | YES      | nvarchar  | \-                        |
| . |              |          |           |                           |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 6 | UpdatedAt    | YES      | datetime2 | Дата/время обновления     |
| . |              |          |           | окна                      |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 7 | Wi           | NO       | datetime2 | Левая граница окна        |
| . | ndowBottomAt |          |           |                           |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+

## ExchangeQueueStatistics

Общая статистика очереди для обмена данными между Роботами. Обновляется
в фоновой службе через очередь в памяти

+---+------------------+--------+-----------+------------------------+
| № | Наименование     | Доп    | Тип       | Описание               |
|   | поля             | ускает | данных    |                        |
| п |                  | NULL   |           |                        |
| / |                  |        |           |                        |
| п |                  |        |           |                        |
+===+==================+========+===========+========================+
| 1 | Id               | NO     | uniquei   |                        |
| . |                  |        | dentifier |                        |
|   |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 2 | CountAll         | NO     | int       | Всего элементов        |
| . |                  |        |           |                        |
|   |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 3 | Co               | NO     | int       | Бизнес-ошибка          |
| . | untBusinessError |        |           |                        |
|   |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 4 | CountEnt         | NO     | int       | Вход в PrefetchBuffer  |
| . | ryPrefetchBuffer |        |           | (возможно, только его  |
|   |                  |        |           | формирование)          |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 5 | CountError       | NO     | int       | Ошибка общего вида     |
| . |                  |        |           |                        |
|   |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 6 | CountInProgress  | NO     | int       | Элемент прочитан       |
| . |                  |        |           | (псевдостатус)         |
|   |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 7 | CountNew         | NO     | int       | Элемент добавлен в     |
| . |                  |        |           | очередь, еще не        |
|   |                  |        |           | прочитан               |
|   |                  |        |           | (псевдостатус)         |
+---+------------------+--------+-----------+------------------------+
| 8 | CountPeekError   | NO     | int       | Ошибка извлечения из   |
| . |                  |        |           | очереди                |
|   |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 9 | CountPre         | NO     | int       | Ошибка формирования    |
| . | fetchBufferError |        |           | PrefetchBuffer         |
|   |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 1 | Coun             | NO     | int       | Чтение в обычном       |
| 0 | tReadNoSpeedMode |        |           | режиме                 |
| . |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 1 | CountRe          | NO     | int       | Чтение из              |
| 1 | adPrefetchBuffer |        |           | PrefetchBuffer         |
| . |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 1 | CountRemoved     | YES    | int       | Кол-во элеиентов       |
| 2 |                  |        |           | очереди, помеченных    |
| . |                  |        |           | как удаленные (null    |
|   |                  |        |           | для очередей с         |
|   |                  |        |           | физическим удалением   |
|   |                  |        |           | элементов)             |
+---+------------------+--------+-----------+------------------------+
| 1 | CountRetry       | NO     | int       | Повтор                 |
| 3 |                  |        |           |                        |
| . |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 1 | CountSuccess     | NO     | int       | Успешно                |
| 4 |                  |        |           |                        |
| . |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 1 | TenantId         | YES    | nvarchar  | \-                     |
| 5 |                  |        |           |                        |
| . |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+
| 1 | UpdatedAt        | YES    | datetime2 | Дата/время обновления  |
| 6 |                  |        |           |                        |
| . |                  |        |           |                        |
|   |                  |        |           |                        |
+---+------------------+--------+-----------+------------------------+

## ExchangeQueueValueEvents

Событие, связанное со значением из очереди. Элементы из очереди не
удаляются физически, они проходят некоторый воркфлоу, который
фиксируется как последовательность событий

+---+-----------------+--------+-----------+--------------------------+
| № | Наименование    | Доп    | Тип       | Описание                 |
|   | поля            | ускает | данных    |                          |
| п |                 | NULL   |           |                          |
| / |                 |        |           |                          |
| п |                 |        |           |                          |
+===+=================+========+===========+==========================+
| 1 | Id              | NO     | bigint    | PK                       |
| . |                 |        |           |                          |
|   |                 |        |           |                          |
|   |                 |        |           |                          |
+---+-----------------+--------+-----------+--------------------------+
| 2 | Excha           | NO     | uniquei   | Элемент очереди (FK)     |
| . | ngeQueueValueId |        | dentifier |                          |
|   |                 |        |           |                          |
|   |                 |        |           |                          |
+---+-----------------+--------+-----------+--------------------------+
| 3 | CreatedAt       | NO     | datetime2 | Дата создания            |
| . |                 |        |           |                          |
|   |                 |        |           |                          |
|   |                 |        |           |                          |
+---+-----------------+--------+-----------+--------------------------+
| 4 | Type            | NO     | int       | Success = 0 (Завершилось |
| . |                 |        |           | успешно), Error = 1      |
|   |                 |        |           | (Завершилось с ошибкой.  |
|   |                 |        |           | Ошибка общего вида),     |
|   |                 |        |           | BusinessError = 2        |
|   |                 |        |           | (Завершилось с           |
|   |                 |        |           | бизнес-ошибкой)          |
+---+-----------------+--------+-----------+--------------------------+
| 5 | Text            | YES    | nvarchar  | Текст, который может     |
| . |                 |        |           | сопровождать событие     |
|   |                 |        |           |                          |
|   |                 |        |           |                          |
+---+-----------------+--------+-----------+--------------------------+
| 6 | ExchangeQueueId | NO     | uniquei   | Опционально может также  |
| . |                 |        | dentifier | являться ключем          |
|   |                 |        |           | секционирования          |
|   |                 |        |           |                          |
+---+-----------------+--------+-----------+--------------------------+

## ExchangeQueueValueMetadata

Дополнительные данные элемента очереди в виде словаря Ключ-Значение

+---+-----------------+---------+-----------+-------------------------+
| № | Наименование    | До      | Тип       | Описание                |
|   | поля            | пускает | данных    |                         |
| п |                 | NULL    |           |                         |
| / |                 |         |           |                         |
| п |                 |         |           |                         |
+===+=================+=========+===========+=========================+
| 1 | Id              | NO      | uniquei   | PK                      |
| . |                 |         | dentifier |                         |
|   |                 |         |           |                         |
|   |                 |         |           |                         |
+---+-----------------+---------+-----------+-------------------------+
| 2 | Excha           | NO      | uniquei   | Элемент очереди (FK)    |
| . | ngeQueueValueId |         | dentifier |                         |
|   |                 |         |           |                         |
|   |                 |         |           |                         |
+---+-----------------+---------+-----------+-------------------------+
| 3 | Key             | NO      | nvarchar  | Ключ                    |
| . |                 |         |           |                         |
|   |                 |         |           |                         |
|   |                 |         |           |                         |
+---+-----------------+---------+-----------+-------------------------+
| 4 | Value           | NO      | nvarchar  | Значение                |
| . |                 |         |           |                         |
|   |                 |         |           |                         |
|   |                 |         |           |                         |
+---+-----------------+---------+-----------+-------------------------+
| 5 | CreatedAt       | NO      | datetime2 | Дата создания           |
| . |                 |         |           |                         |
|   |                 |         |           |                         |
|   |                 |         |           |                         |
+---+-----------------+---------+-----------+-------------------------+
| 6 | ExchangeQueueId | NO      | uniquei   | Опционально может также |
| . |                 |         | dentifier | являться ключем         |
|   |                 |         |           | секционирования         |
|   |                 |         |           |                         |
+---+-----------------+---------+-----------+-------------------------+

## ExchangeQueueValuePrefetchReadeds

Кэш в БД для предварительно извлеченного и прочитанного элемента, чтобы
при изменении его состояния, если PrefetchBuffer еще не синхронизирован
с БД, понимать, что элемент уже извлечен, и кем (Оркестраторный
Робот/Студия или Аттендед-робот) он извлечен. В отношении 1-1 с
ExchangeQueueValue. Таблица полностью очищается в
ExchangeQueuePrefetchBufferService при синхронизации PrefetchBuffer с БД

+---+---------------+--------+-----------+---------------------------+
| № | Наименование  | Доп    | Тип       | Описание                  |
|   | поля          | ускает | данных    |                           |
| п |               | NULL   |           |                           |
| / |               |        |           |                           |
| п |               |        |           |                           |
+===+===============+========+===========+===========================+
| 1 | Id            | NO     | uniquei   | Совпадает с Id из         |
| . |               |        | dentifier | ExchangeQueueValue        |
|   |               |        |           |                           |
|   |               |        |           |                           |
+---+---------------+--------+-----------+---------------------------+
| 2 | Reade         | YES    | nvarchar  | Для аттендед-робота -     |
| . | dAttendedUser |        |           | пользователь, который     |
|   |               |        |           | прочитал элемент очереди  |
|   |               |        |           |                           |
+---+---------------+--------+-----------+---------------------------+
| 3 | ReadedRobotId | YES    | int       | Робот, который взял       |
| . |               |        |           | (прочитал) в обработку    |
|   |               |        |           | элемент очереди; Только   |
|   |               |        |           | один робот может взять    |
|   |               |        |           | элемент очереди в         |
|   |               |        |           | обработку                 |
+---+---------------+--------+-----------+---------------------------+

## ExchangeQueueValues

Элемент очереди

+---+------------------------+--------+-----------+-------------------+
| № | Наименование поля      | Доп    | Тип       | Описание          |
|   |                        | ускает | данных    |                   |
| п |                        | NULL   |           |                   |
| / |                        |        |           |                   |
| п |                        |        |           |                   |
+===+========================+========+===========+===================+
| 1 | Id                     | NO     | uniquei   | PK                |
| . |                        |        | dentifier |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | ExchangeQueueId        | NO     | uniquei   | Очередь (FR)      |
| . |                        |        | dentifier |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 3 | Value                  | NO     | nvarchar  | Значение          |
| . |                        |        |           | (зашифрованное)   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 4 | CreatedAt              | NO     | datetime2 | Дата создания     |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 5 | CreatedRobotId         | YES    | int       | Создавший робот   |
| . |                        |        |           | (FK)              |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 6 | DeadlineAt             | YES    | datetime2 | Дата, после       |
| . |                        |        |           | которой элемент   |
|   |                        |        |           | будут не доступен |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 7 | LastEventId            | YES    | bigint    | Последнее событие |
| . |                        |        |           | (FK)              |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 8 | PostponeAt             | YES    | datetime2 | Дата, до которой  |
| . |                        |        |           | элемент не        |
|   |                        |        |           | доступен          |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 9 | ReadedRobotAt          | YES    | datetime2 | Дата прочтения    |
| . |                        |        |           | элемента очереди  |
|   |                        |        |           | роботом или       |
|   |                        |        |           | студией. С        |
|   |                        |        |           | позиции FIFO этот |
|   |                        |        |           | элемент считается |
|   |                        |        |           | удаленным из      |
|   |                        |        |           | очереди, но       |
|   |                        |        |           | физически элемент |
|   |                        |        |           | не удаляется      |
+---+------------------------+--------+-----------+-------------------+
| 1 | ReadedRobotId          | YES    | int       | Прочитавший робот |
| 0 |                        |        |           | (FK)              |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | Retray                 | NO     | int       | Количество        |
| 1 |                        |        |           | повторных         |
| . |                        |        |           | помещений         |
|   |                        |        |           | элемента в        |
|   |                        |        |           | очередь при       |
|   |                        |        |           | фиксации статуса  |
|   |                        |        |           | ошибка            |
+---+------------------------+--------+-----------+-------------------+
| 1 | DeletedAt              | YES    | datetime2 | Дата удаления     |
| 2 |                        |        |           | элемента очереди  |
| . |                        |        |           | (не обязательно   |
|   |                        |        |           | роботом)          |
+---+------------------------+--------+-----------+-------------------+
| 1 | Metadata               | YES    | nvarchar  | Дополнительные    |
| 3 |                        |        |           | данные в JSON     |
| . |                        |        |           | (продублировано)  |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | NaturalKey             | YES    | nvarchar  | Натуральный       |
| 4 |                        |        |           | (                 |
| . |                        |        |           | пользовательский) |
|   |                        |        |           | идентификатор     |
|   |                        |        |           | (ключ) элемента   |
|   |                        |        |           | очереди. В        |
|   |                        |        |           | зависимости от    |
|   |                        |        |           | настроек очереди: |
|   |                        |        |           | может не          |
|   |                        |        |           | проверяться на    |
|   |                        |        |           | уникальность,     |
|   |                        |        |           | может проверяться |
|   |                        |        |           | на уникальность   |
|   |                        |        |           | внутри очереди,   |
|   |                        |        |           | может проверяться |
|   |                        |        |           | на уникальность   |
|   |                        |        |           | глобально         |
+---+------------------------+--------+-----------+-------------------+
| 1 | Exchange               | YES    | uniquei   | Блокировка        |
| 5 | QueueValuesRobotLockId |        | dentifier | элемента          |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | Encrypted              | NO     | bit       | Элемент           |
| 6 |                        |        |           | зашифрован и      |
| . |                        |        |           | принадлежит       |
|   |                        |        |           | зашифрованной     |
|   |                        |        |           | очереди           |
+---+------------------------+--------+-----------+-------------------+
| 1 | Priority               | YES    | int       | Приоритет -       |
| 7 |                        |        |           | сначала           |
| . |                        |        |           | сортировка по     |
|   |                        |        |           | приоритетам,      |
|   |                        |        |           | потом по дате -   |
|   |                        |        |           | при извлечении из |
|   |                        |        |           | очереди по FIFO   |
|   |                        |        |           | или чтении с      |
|   |                        |        |           | фильтром          |
+---+------------------------+--------+-----------+-------------------+
| 1 | RootId                 | YES    | uniquei   | Корневой элемент, |
| 8 |                        |        | dentifier | с которого        |
| . |                        |        |           | началось          |
|   |                        |        |           | повторение        |
|   |                        |        |           | элементов в       |
|   |                        |        |           | очереди при       |
|   |                        |        |           | ошибке. Для       |
|   |                        |        |           | оптимизации       |
|   |                        |        |           | построения        |
|   |                        |        |           | цепочки           |
|   |                        |        |           | повторенных       |
|   |                        |        |           | элементов, чтобы  |
|   |                        |        |           | рекурсивно не     |
|   |                        |        |           | строить по        |
|   |                        |        |           | ParentId          |
+---+------------------------+--------+-----------+-------------------+
| 1 | CreatedAttendedUser    | YES    | nvarchar  | Для               |
| 9 |                        |        |           | аттендед-робота - |
| . |                        |        |           | пользователь,     |
|   |                        |        |           | который создал    |
|   |                        |        |           | элемент очереди   |
+---+------------------------+--------+-----------+-------------------+
| 2 | DeletedReason          | YES    | int       | Причина удаления  |
| 0 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | InProgressTimeout      | YES    | int       | Таймаут (сек) по  |
| 1 |                        |        |           | истечении         |
| . |                        |        |           | которого элементы |
|   |                        |        |           | очереди; в        |
|   |                        |        |           | статусе           |
|   |                        |        |           | InProgress        |
|   |                        |        |           | считаются         |
|   |                        |        |           | просроченными     |
+---+------------------------+--------+-----------+-------------------+
| 2 | PrefetchedAt           | YES    | datetime2 | Дата              |
| 2 |                        |        |           | предварительной   |
| . |                        |        |           | выборки во        |
|   |                        |        |           | временный буфер.; |
|   |                        |        |           | Используется в    |
|   |                        |        |           | высокоскоростном  |
|   |                        |        |           | режиме чтения по  |
|   |                        |        |           | FIFO              |
+---+------------------------+--------+-----------+-------------------+
| 2 | PrefetchedNode         | YES    | int       | Идентификатор     |
| 3 |                        |        |           | ноды, запросившей |
| . |                        |        |           | выборку во        |
|   |                        |        |           | временный буфер   |
+---+------------------------+--------+-----------+-------------------+
| 2 | ReadedAttendedUser     | YES    | nvarchar  | Для               |
| 4 |                        |        |           | аттендед-робота - |
| . |                        |        |           | пользователь,     |
|   |                        |        |           | который прочитал  |
|   |                        |        |           | элемент очереди   |
+---+------------------------+--------+-----------+-------------------+

## ExchangeQueueValueTags

Тэг элемента очереди. Тэг из справочника тегов

+---+-----------------+-----------+-----------+-----------------------+
| № | Наименование    | Допускает | Тип       | Описание              |
|   | поля            | NULL      | данных    |                       |
| п |                 |           |           |                       |
| / |                 |           |           |                       |
| п |                 |           |           |                       |
+===+=================+===========+===========+=======================+
| 1 | Id              | NO        | uniquei   | PK                    |
| . |                 |           | dentifier |                       |
|   |                 |           |           |                       |
|   |                 |           |           |                       |
+---+-----------------+-----------+-----------+-----------------------+
| 2 | Excha           | NO        | uniquei   | Элемент очереди (FK)  |
| . | ngeQueueValueId |           | dentifier |                       |
|   |                 |           |           |                       |
|   |                 |           |           |                       |
+---+-----------------+-----------+-----------+-----------------------+
| 3 | TagId           | NO        | uniquei   | Элемент справочника   |
| . |                 |           | dentifier | тегов (FK)            |
|   |                 |           |           |                       |
|   |                 |           |           |                       |
+---+-----------------+-----------+-----------+-----------------------+
| 4 | CreatedAt       | NO        | datetime2 | Дата создания         |
| . |                 |           |           |                       |
|   |                 |           |           |                       |
|   |                 |           |           |                       |
+---+-----------------+-----------+-----------+-----------------------+

## ExchangeQueueValuesRobotLocks

Блокировка элементов очереди роботом. Заблокированному элементу ставится
ключ блокировки (Id). Другой робот не может обработать такой элемент -
изменить статус, удалить и т.п. Ключ блокировки формирует робот. По
этому ключу он разблокирует занятые элементы. Блокировка снимается по
таймауту (настройка очереди ValuesRobotLockTimeout) или через UI
Оркестратора

+---+-------------+----------+-----------+----------------------------+
| № | Н           | Д        | Тип       | Описание                   |
|   | аименование | опускает | данных    |                            |
| п | поля        | NULL     |           |                            |
| / |             |          |           |                            |
| п |             |          |           |                            |
+===+=============+==========+===========+============================+
| 1 | Id          | NO       | uniquei   | PK                         |
| . |             |          | dentifier |                            |
|   |             |          |           |                            |
|   |             |          |           |                            |
+---+-------------+----------+-----------+----------------------------+
| 2 | RobotId     | YES      | int       | Элемент справочника тегов  |
| . |             |          |           | (FK)                       |
|   |             |          |           |                            |
|   |             |          |           |                            |
+---+-------------+----------+-----------+----------------------------+
| 3 | CreatedAt   | NO       | datetime2 | Дата создания              |
| . |             |          |           |                            |
|   |             |          |           |                            |
|   |             |          |           |                            |
+---+-------------+----------+-----------+----------------------------+
| 4 | ExpiredAt   | NO       | datetime2 | Дата окончания блокировки  |
| . |             |          |           | по таймауту                |
|   |             |          |           |                            |
|   |             |          |           |                            |
+---+-------------+----------+-----------+----------------------------+
| 5 | A           | YES      | nvarchar  | Для аттендед-робота -      |
| . | ttendedUser |          |           | пользователь, создавший    |
|   |             |          |           | блокировку                 |
|   |             |          |           |                            |
+---+-------------+----------+-----------+----------------------------+

## FolderObjects[^5]

Объект папки

+----+--------------------+----------------+---------------+----------+
| №  | Наименование поля  | Допускает NULL | Тип данных    | Описание |
|    |                    |                |               |          |
| п  |                    |                |               |          |
| /п |                    |                |               |          |
+====+====================+================+===============+==========+
| 1. | Id                 | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 2. | ObjectType         | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 3. | FolderId           | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 4. | RpaProjectId       | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 5. | RobotId            | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 6. | AssignmentId       | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 7. | WorkerId           | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 8. | AgentId            | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 9. | ExchangeQueueId    | YES            | uni           |          |
|    |                    |                | queidentifier |          |
+----+--------------------+----------------+---------------+----------+
| 10 | AssetId            | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 11 | DeployTemplateId   | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 12 | RobotGroupId       | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 13 | ScheduleId         | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 14 | Pr                 | YES            | int           |          |
| .  | oductionCalendarId |                |               |          |
+----+--------------------+----------------+---------------+----------+

## FolderObjects2

Объект общей некорневой папки

+----+--------------------+----------------+---------------+----------+
| №  | Наименование поля  | Допускает NULL | Тип данных    | Описание |
|    |                    |                |               |          |
| п  |                    |                |               |          |
| /п |                    |                |               |          |
+====+====================+================+===============+==========+
| 1. | Id                 | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 2. | AgentId            | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 3. | AssetId            | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 4. | AssignmentId       | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 5. | DeployTemplateId   | YES            | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 6. | ExchangeQueueId    | YES            | uni           |          |
|    |                    |                | queidentifier |          |
+----+--------------------+----------------+---------------+----------+
| 7. | FolderId           | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 8. | ObjectType         | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 9. | Pr                 | YES            | int           |          |
|    | oductionCalendarId |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 10 | RobotGroupId       | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 11 | RobotId            | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 12 | RpaProjectId       | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 13 | ScheduleId         | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 14 | WorkerId           | YES            | int           |          |
| .  |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+

## Folders[^6]

Виртуальная папка в оркестраторе

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 1. | Id                  | NO             | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 2. | Name                | NO             | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 3. | Description         | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 4. | TenantId            | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 5. | ParentId            | YES            | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 6. | Default             | NO             | bit        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## Folders2

Виртуальная папка в оркестраторе (новая реализация, не Workspace, общая
папка). Такая папка является механизмом разделения прав пользователя на
объекты: RPA-проекты, роботы, задания и т.п. Может существовать отдельно
от пользователя. Корневая папка для тенанта физически не существует.
Считается, что объект принадлежит корневой папке, если он больше не
принадлежит никакой другой не корневой папке. Всем объектам, кроме
роботов и заданий, разрешено находиться в нескольких не корневых папках
одновременно

+---+--------------+----------+--------+------------------------------+
| № | Наименование | Д        | Тип    | Описание                     |
|   | поля         | опускает | данных |                              |
| п |              | NULL     |        |                              |
| / |              |          |        |                              |
| п |              |          |        |                              |
+===+==============+==========+========+==============================+
| 1 | Id           | NO       | int    |                              |
| . |              |          |        |                              |
|   |              |          |        |                              |
|   |              |          |        |                              |
+---+--------------+----------+--------+------------------------------+
| 2 | Name         | NO       | nv     | Наименование                 |
| . |              |          | archar |                              |
|   |              |          |        |                              |
|   |              |          |        |                              |
+---+--------------+----------+--------+------------------------------+
| 3 | ParentId     | YES      | int    | Родительская папка, для      |
| . |              |          |        | структуризации в виде дерева |
|   |              |          |        |                              |
|   |              |          |        |                              |
+---+--------------+----------+--------+------------------------------+
| 4 | TenantId     | YES      | nv     | Идентификатор тенанта        |
| . |              |          | archar |                              |
|   |              |          |        |                              |
|   |              |          |        |                              |
+---+--------------+----------+--------+------------------------------+
| 5 | Description  | YES      | nv     | Описание                     |
| . |              |          | archar |                              |
|   |              |          |        |                              |
|   |              |          |        |                              |
+---+--------------+----------+--------+------------------------------+

## FolderUsers[^7]

Пользователь папки

+---+-------------+----------+-------+--------------------------------+
| № | Н           | Д        | Тип   | Описание                       |
|   | аименование | опускает | д     |                                |
| п | поля        | NULL     | анных |                                |
| / |             |          |       |                                |
| п |             |          |       |                                |
+===+=============+==========+=======+================================+
| 1 | Id          | NO       | int   |                                |
| . |             |          |       |                                |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 2 | UserId      | NO       | nva   |                                |
| . |             |          | rchar |                                |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 3 | TenantId    | YES      | nva   | Идентификатор тенанта          |
| . |             |          | rchar |                                |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 4 | FolderId    | NO       | int   |                                |
| . |             |          |       |                                |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 5 | Owner       | NO       | bit   | Владелец папки                 |
| . |             |          |       |                                |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 6 | Selected    | NO       | bit   | Признак того, что папка сейчас |
| . |             |          |       | выбрана пользователем для      |
|   |             |          |       | работы                         |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+
| 7 | FromUserId  | YES      | nva   | От какого пользователя         |
| . |             |          | rchar | предоставлен доступ к папке    |
|   |             |          |       |                                |
|   |             |          |       |                                |
+---+-------------+----------+-------+--------------------------------+

## FolderUsers2

Пользователь общей папки. Права на Root-папку в таблице RootFolderUsers2

+---+------------+---------+-------+----------------------------------+
| № | На         | До      | Тип   | Описание                         |
|   | именование | пускает | д     |                                  |
| п | поля       | NULL    | анных |                                  |
| / |            |         |       |                                  |
| п |            |         |       |                                  |
+===+============+=========+=======+==================================+
| 1 | Id         | NO      | int   |                                  |
| . |            |         |       |                                  |
|   |            |         |       |                                  |
|   |            |         |       |                                  |
+---+------------+---------+-------+----------------------------------+
| 2 | FromUserId | YES     | nva   | От какого пользователя           |
| . |            |         | rchar | предоставлен доступ к папке      |
|   |            |         |       |                                  |
|   |            |         |       |                                  |
+---+------------+---------+-------+----------------------------------+
| 3 | UserId     | NO      | nva   | \-                               |
| . |            |         | rchar |                                  |
|   |            |         |       |                                  |
|   |            |         |       |                                  |
+---+------------+---------+-------+----------------------------------+
| 4 | TenantId   | YES     | nva   | Идентификатор тенанта            |
| . |            |         | rchar |                                  |
|   |            |         |       |                                  |
|   |            |         |       |                                  |
+---+------------+---------+-------+----------------------------------+
| 5 | FolderId   | NO      | int   |                                  |
| . |            |         |       |                                  |
|   |            |         |       |                                  |
|   |            |         |       |                                  |
+---+------------+---------+-------+----------------------------------+
| 6 | Owner      | NO      | bit   | Владелец папки - пользователь,   |
| . |            |         |       | который её сам создал; У         |
|   |            |         |       | владельца полные права на паку   |
|   |            |         |       |                                  |
+---+------------+---------+-------+----------------------------------+
| 7 | Selected   | NO      | bit   | Признак того, что папка сейчас   |
| . |            |         |       | выбрана пользователем для        |
|   |            |         |       | работы; Фильтрация к объектам    |
|   |            |         |       | будет применяться на основе этой |
|   |            |         |       | папки                            |
+---+------------+---------+-------+----------------------------------+
| 8 | AccessType | YES     | int   | Тип переданных прав на папку -   |
| . |            |         |       | чтение, запись и т.д., если      |
|   |            |         |       | пользователь не является её      |
|   |            |         |       | владельцем                       |
+---+------------+---------+-------+----------------------------------+

## GeneralSettings

Системная таблица. Использовать нельзя

+---+---------------+-----+----+--------------------------------------+
| № | Наименование  | Доп | Т  | Описание                             |
|   | поля          | уск | ип |                                      |
| п |               | ает | да |                                      |
| / |               | N   | нн |                                      |
| п |               | ULL | ых |                                      |
+===+===============+=====+====+======================================+
| 1 | Id            | NO  | i  |                                      |
| . |               |     | nt |                                      |
|   |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 2 | Rpa           | NO  | i  | Параметры очереди проектов на        |
| . | ProjectQueueP |     | nt | выполнение                           |
|   | rocessingType |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 3 | TimeOffset    | NO  | i  | Смещение времени в часах для         |
| . |               |     | nt | дефолтного тенанта                   |
|   |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 4 | Email         | YES | nv |                                      |
| . |               |     | ar |                                      |
|   |               |     | ch |                                      |
|   |               |     | ar |                                      |
+---+---------------+-----+----+--------------------------------------+
| 5 | Password      | YES | nv |                                      |
| . |               |     | ar |                                      |
|   |               |     | ch |                                      |
|   |               |     | ar |                                      |
+---+---------------+-----+----+--------------------------------------+
| 6 | Pop3          | YES | nv |                                      |
| . |               |     | ar |                                      |
|   |               |     | ch |                                      |
|   |               |     | ar |                                      |
+---+---------------+-----+----+--------------------------------------+
| 7 | Pop3Port      | YES | i  |                                      |
| . |               |     | nt |                                      |
|   |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 8 | Requir        | YES | b  |                                      |
| . | eAuthenticate |     | it |                                      |
|   |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 9 | UseSsl        | YES | b  |                                      |
| . |               |     | it |                                      |
|   |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 1 | Login         | YES | nv | Если задано, используется вместо     |
| 0 |               |     | ar | Email                                |
| . |               |     | ch |                                      |
|   |               |     | ar |                                      |
+---+---------------+-----+----+--------------------------------------+
| 1 | R             | YES | b  | Удалять письмо после получения       |
| 1 | emoveReceived |     | it |                                      |
| . |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 1 | UseStand      | YES | b  | Поставить true, если почтовик        |
| 2 | artNotSSLPort |     | it | настроен на один из стандартных      |
| . |               |     |    | портов (SMTP:25 or                   |
|   |               |     |    | 587,POP3:110,IMAP:143); (не зависит  |
|   |               |     |    | от настройки UseSsl); Подробнее:     |
|   |               |     |    | https                                |
|   |               |     |    | ://github.com/jstedfast/MailKit/blob |
|   |               |     |    | /master/FAQ.md#SslHandshakeException |
+---+---------------+-----+----+--------------------------------------+
| 1 | ImapFolder    | YES | nv |                                      |
| 3 |               |     | ar |                                      |
| . |               |     | ch |                                      |
|   |               |     | ar |                                      |
+---+---------------+-----+----+--------------------------------------+
| 1 | Imap          | YES | nv |                                      |
| 4 |               |     | ar |                                      |
| . |               |     | ch |                                      |
|   |               |     | ar |                                      |
+---+---------------+-----+----+--------------------------------------+
| 1 | AgentTimeout  | NO  | i  | Тайм-аут обращения к агенту          |
| 5 |               |     | nt |                                      |
| . |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 1 | AgentPort     | NO  | i  | Порт агента                          |
| 6 |               |     | nt |                                      |
| . |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 1 | AgentHttps    | NO  | b  | Использовать Https при обращении к   |
| 7 |               |     | it | агенту                               |
| . |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+
| 1 | Disabled      | NO  | b  | Отключение дефолтного тенанта.       |
| 8 | DefaultTenant |     | it | Авторизация в нем будет не           |
| . |               |     |    | возможна.; Пользовательский          |
|   |               |     |    | интерфейс для изменения этого поля   |
|   |               |     |    | не предусмотрен, только через БД.    |
+---+---------------+-----+----+--------------------------------------+
| 1 | ImapPort      | YES | i  |                                      |
| 9 |               |     | nt |                                      |
| . |               |     |    |                                      |
|   |               |     |    |                                      |
+---+---------------+-----+----+--------------------------------------+

## IncomingEmailLogs

Системная таблица

+---+-------------+----------+--------+------------------------------+
| № | Н           | Д        | Тип    | Описание                     |
|   | аименование | опускает | данных |                              |
| п | поля        | NULL     |        |                              |
| / |             |          |        |                              |
| п |             |          |        |                              |
+===+=============+==========+========+==============================+
| 1 | Id          | NO       | int    |                              |
| . |             |          |        |                              |
|   |             |          |        |                              |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+
| 2 | TriggerId   | NO       | int    |                              |
| . |             |          |        |                              |
|   |             |          |        |                              |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+
| 3 | MessageId   | NO       | nv     | Идентификатор письма на      |
| . |             |          | archar | сервере                      |
|   |             |          |        |                              |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+
| 4 | Subject     | NO       | nv     | Тема письма                  |
| . |             |          | archar |                              |
|   |             |          |        |                              |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+
| 5 | From        | NO       | nv     | Email отправителя письма     |
| . |             |          | archar |                              |
|   |             |          |        |                              |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+
| 6 | CreatedAt   | NO       | dat    | Дата создания записи         |
| . |             |          | etime2 |                              |
|   |             |          |        |                              |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+
| 7 | Duplicate   | NO       | bit    | Письмо забиралось с          |
| . |             |          |        | почтового сервера не         |
|   |             |          |        | однократно                   |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+
| 8 | Triggered   | NO       | bit    | Письмо вызвало срабатывание  |
| . |             |          |        | триггера                     |
|   |             |          |        |                              |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+
| 9 | Node        | NO       | nv     |                              |
| . |             |          | archar |                              |
|   |             |          |        |                              |
|   |             |          |        |                              |
+---+-------------+----------+--------+------------------------------+

## IncomingEmails

Настойки триггера с типом «Email»

+---+----------------+-------+-------+--------------------------------+
| № | Наименование   | Допу  | Тип   | Описание                       |
|   | поля           | скает | д     |                                |
| п |                | NULL  | анных |                                |
| / |                |       |       |                                |
| п |                |       |       |                                |
+===+================+=======+=======+================================+
| 1 | Id             | NO    | int   |                                |
| . |                |       |       |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 2 | TenantId       | YES   | nva   | Идентификатор тенанта          |
| . |                |       | rchar |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 3 | Email          | NO    | nva   | Email                          |
| . |                |       | rchar |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 4 | CreatedAt      | NO    | date  | Дата создания записи           |
| . |                |       | time2 |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 5 | UpdatedAt      | YES   | date  | Дата изменения записи          |
| . |                |       | time2 |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 6 | Password       | NO    | nva   |                                |
| . |                |       | rchar |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 7 | Pop3           | NO    | nva   |                                |
| . |                |       | rchar |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 8 | Pop3Port       | NO    | int   |                                |
| . |                |       |       |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 9 | Requi          | NO    | bit   |                                |
| . | reAuthenticate |       |       |                                |
|   |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 1 | UseSsl         | NO    | bit   |                                |
| 0 |                |       |       |                                |
| . |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 1 | UseStan        | NO    | bit   | Поставить true, если почтовик  |
| 1 | dartNotSSLPort |       |       | настроен на один из            |
| . |                |       |       | стандартных портов (SMTP:25 or |
|   |                |       |       | 587,POP3:110,IMAP:143); (не    |
|   |                |       |       | зависит от настройки UseSsl)   |
+---+----------------+-------+-------+--------------------------------+
| 1 | ImapPort       | YES   | int   |                                |
| 2 |                |       |       |                                |
| . |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 1 | ImapFolder     | YES   | nva   |                                |
| 3 |                |       | rchar |                                |
| . |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 1 | Imap           | YES   | nva   |                                |
| 4 |                |       | rchar |                                |
| . |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 1 | EWSUrl         | YES   | nva   | Адрес сервера                  |
| 5 |                |       | rchar | ExchangeWebService,            |
| . |                |       |       | обязательно заполняется в      |
|   |                |       |       | формате                        |
|   |                |       |       | https://                       |
|   |                |       |       | servername/EWS/Exchange.asmx,; |
|   |                |       |       | например:                      |
|   |                |       |       | https://ms-exchange.s1.        |
|   |                |       |       | primo1.orch/EWS/Exchange.asmx. |
|   |                |       |       | Перед добавлением необходимо   |
|   |                |       |       | открыть ссылку в браузере; и   |
|   |                |       |       | убедиться что сервис доступен. |
+---+----------------+-------+-------+--------------------------------+
| 1 | RemoveReceived | NO    | bit   | Удалять письмо после получения |
| 6 |                |       |       |                                |
| . |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+
| 1 | Login          | YES   | nva   | Если задано, используется      |
| 7 |                |       | rchar | вместо Email                   |
| . |                |       |       |                                |
|   |                |       |       |                                |
+---+----------------+-------+-------+--------------------------------+

## IncomingEmailWindowLogs

Системная таблица

+---+-------------+----------+--------+-------------------------------+
| № | Н           | Д        | Тип    | Описание                      |
|   | аименование | опускает | данных |                               |
| п | поля        | NULL     |        |                               |
| / |             |          |        |                               |
| п |             |          |        |                               |
+===+=============+==========+========+===============================+
| 1 | Id          | NO       | int    |                               |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 2 | TriggerId   | NO       | int    |                               |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 3 | MinIndex    | NO       | int    | Минимальный индекс письма     |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 4 | MaxIndex    | NO       | int    | Максимальный индекс письма    |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 5 | Size        | NO       | int    | Размер окна - максимальное    |
| . |             |          |        | количество писем, забираемых  |
|   |             |          |        | за один раз                   |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 6 | Intev       | NO       | int    | Интервал опроса почтового     |
| . | alInSeconds |          |        | сервера                       |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 7 | CreatedAt   | NO       | dat    | Дата создания записи          |
| . |             |          | etime2 |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 8 | Duplicates  | NO       | int    | Количество дублей             |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 9 | Offset      | NO       | int    | Смещение окна                 |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 1 | Node        | NO       | nv     |                               |
| 0 |             |          | archar |                               |
| . |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+

## IPv4Addresses

Упрощенное представление IpAddress (для ЧБ списка IP-шников для запуска
Primo.Studio)

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 1. | Id                  | NO             | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 2. | Address             | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## IPv4Masks

Представление IP маски (для ЧБ списка IP-шников для запуска
Primo.Studio)

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 3. | Id                  | NO             | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 4. | Mask                | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## LoadTests[^8]

Нагрузочный тест

+---+--------------+--------+--------+--------------------------------+
| № | Наименование | Доп    | Тип    | Описание                       |
|   | поля         | ускает | данных |                                |
| п |              | NULL   |        |                                |
| / |              |        |        |                                |
| п |              |        |        |                                |
+===+==============+========+========+================================+
| 1 | Id           | NO     | int    |                                |
| . |              |        |        |                                |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 2 | Name         | YES    | nv     | Наименование                   |
| . |              |        | archar |                                |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 3 | Description  | YES    | nv     | Описание                       |
| . |              |        | archar |                                |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 4 | CreatedAt    | NO     | dat    | Дата создания                  |
| . |              |        | etime2 |                                |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 5 | UpdatedAt    | YES    | dat    | Дата изменения                 |
| . |              |        | etime2 |                                |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 6 | Loa          | NO     | int    | Сценарий нагрузочного          |
| . | dTestScopeId |        |        | тестирования                   |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 7 | RpaProjectId | NO     | int    | Rpa-проект с нагрузочным       |
| . |              |        |        | тестированием                  |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 8 | LoadTe       | NO     | int    | Расписание нагрузочного        |
| . | stScheduleId |        |        | тестирования                   |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 9 | ParentId     | YES    | int    | Родительский тест              |
| . |              |        |        |                                |
|   |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 1 | FiredAt      | YES    | dat    | Дата срабатывания триггера     |
| 0 |              |        | etime2 | шедулера                       |
| . |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 1 | LockAt       | YES    | dat    | Блокировка (служебное поле) ,  |
| 1 |              |        | etime2 | чтобы одновременно несколько   |
| . |              |        |        | инстансов не поставили в       |
|   |              |        |        | очередь выполнения Rpa-проект  |
|   |              |        |        | этого теста                    |
+---+--------------+--------+--------+--------------------------------+
| 1 | NodeLock     | YES    | int    | Идентификатор ноды,            |
| 2 |              |        |        | заблокировавшей тест в БД      |
| . |              |        |        |                                |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+
| 1 | Version      | NO     | int    | Служебное поле для             |
| 3 |              |        |        | разруливания конкурентного     |
| . |              |        |        | доступа                        |
|   |              |        |        |                                |
+---+--------------+--------+--------+--------------------------------+

## LoadTestScheduleItemActiveRobots[^9]

Робот активности элемента расписания нагрузочного теста при выполнении
теста

+---+---------------------+--------+--------+-------------------------+
| № | Наименование поля   | Доп    | Тип    | Описание                |
|   |                     | ускает | данных |                         |
| п |                     | NULL   |        |                         |
| / |                     |        |        |                         |
| п |                     |        |        |                         |
+===+=====================+========+========+=========================+
| 1 | Id                  | NO     | int    |                         |
| . |                     |        |        |                         |
|   |                     |        |        |                         |
|   |                     |        |        |                         |
+---+---------------------+--------+--------+-------------------------+
| 2 | LoadTestS           | NO     | int    |                         |
| . | cheduleItemActiveId |        |        |                         |
|   |                     |        |        |                         |
|   |                     |        |        |                         |
+---+---------------------+--------+--------+-------------------------+
| 3 | RobotId             | NO     | int    |                         |
| . |                     |        |        |                         |
|   |                     |        |        |                         |
|   |                     |        |        |                         |
+---+---------------------+--------+--------+-------------------------+
| 4 | DeltaThreads        | YES    | int    | Изменение количества    |
| . |                     |        |        | потоков                 |
|   |                     |        |        |                         |
|   |                     |        |        |                         |
+---+---------------------+--------+--------+-------------------------+
| 5 | CreatedAt           | NO     | dat    | Дата добавления робота  |
| . |                     |        | etime2 |                         |
|   |                     |        |        |                         |
|   |                     |        |        |                         |
+---+---------------------+--------+--------+-------------------------+
| 6 | DeletedAt           | YES    | dat    | При снижении количества |
| . |                     |        | etime2 | потоков (освобождении   |
|   |                     |        |        | роботов) сразу их не    |
|   |                     |        |        | удаляем, оставляем для  |
|   |                     |        |        | мониторинга             |
+---+---------------------+--------+--------+-------------------------+

## LoadTestScheduleItemActives[^10]

Активность элемента расписания нагрузочного теста при выполнении теста

+---+--------------------+--------------+----------+-----------------+
| № | Наименование поля  | Допускает    | Тип      | Описание        |
|   |                    | NULL         | данных   |                 |
| п |                    |              |          |                 |
| / |                    |              |          |                 |
| п |                    |              |          |                 |
+===+====================+==============+==========+=================+
| 1 | Id                 | NO           | int      |                 |
| . |                    |              |          |                 |
|   |                    |              |          |                 |
|   |                    |              |          |                 |
+---+--------------------+--------------+----------+-----------------+
| 2 | Load               | NO           | int      |                 |
| . | TestScheduleItemId |              |          |                 |
|   |                    |              |          |                 |
|   |                    |              |          |                 |
+---+--------------------+--------------+----------+-----------------+
| 3 | LoadTestId         | NO           | int      |                 |
| . |                    |              |          |                 |
|   |                    |              |          |                 |
|   |                    |              |          |                 |
+---+--------------------+--------------+----------+-----------------+
| 4 | FiredAt            | YES          | d        | Дата            |
| . |                    |              | atetime2 | срабатывания    |
|   |                    |              |          |                 |
|   |                    |              |          |                 |
+---+--------------------+--------------+----------+-----------------+

## LoadTestScheduleItems[^11]

Элемент расписания нагрузочного теста

+---+----------------+------------+---------+------------------------+
| № | Наименование   | Допускает  | Тип     | Описание               |
|   | поля           | NULL       | данных  |                        |
| п |                |            |         |                        |
| / |                |            |         |                        |
| п |                |            |         |                        |
+===+================+============+=========+========================+
| 1 | Id             | NO         | int     |                        |
| . |                |            |         |                        |
|   |                |            |         |                        |
|   |                |            |         |                        |
+---+----------------+------------+---------+------------------------+
| 2 | Load           | NO         | int     |                        |
| . | TestScheduleId |            |         |                        |
|   |                |            |         |                        |
|   |                |            |         |                        |
+---+----------------+------------+---------+------------------------+
| 3 | Duration       | NO         | time    | Продолжительность      |
| . |                |            |         |                        |
|   |                |            |         |                        |
|   |                |            |         |                        |
+---+----------------+------------+---------+------------------------+
| 4 | CreatedAt      | NO         | da      | Дата создания          |
| . |                |            | tetime2 |                        |
|   |                |            |         |                        |
|   |                |            |         |                        |
+---+----------------+------------+---------+------------------------+
| 5 | DeltaThreads   | NO         | int     | Изменение количества   |
| . |                |            |         | потоков                |
|   |                |            |         |                        |
|   |                |            |         |                        |
+---+----------------+------------+---------+------------------------+
| 6 | Ite            | NO         | int     | Интервал между         |
| . | rationInterval |            |         | итерациями             |
|   |                |            |         |                        |
|   |                |            |         |                        |
+---+----------------+------------+---------+------------------------+

## LoadTestSchedules[^12]

Расписание нагрузочного теста

+---+--------------+---------+--------+-------------------------------+
| № | Наименование | До      | Тип    | Описание                      |
|   | поля         | пускает | данных |                               |
| п |              | NULL    |        |                               |
| / |              |         |        |                               |
| п |              |         |        |                               |
+===+==============+=========+========+===============================+
| 1 | Id           | NO      | int    |                               |
| . |              |         |        |                               |
|   |              |         |        |                               |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 2 | Name         | YES     | nv     | Наименование                  |
| . |              |         | archar |                               |
|   |              |         |        |                               |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 3 | Description  | YES     | nv     | Описание                      |
| . |              |         | archar |                               |
|   |              |         |        |                               |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 4 | CreatedAt    | NO      | dat    | Дата создания                 |
| . |              |         | etime2 |                               |
|   |              |         |        |                               |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 5 | UpdatedAt    | YES     | dat    | Дата изменения                |
| . |              |         | etime2 |                               |
|   |              |         |        |                               |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 6 | Robot        | YES     | int    | Одинаковое для всех роботов   |
| . | ConstThreads |         |        | количество потоков            |
|   |              |         |        |                               |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 7 | R            | NO      | bit    | Использовать мягкое           |
| . | obotSoftKill |         |        | завершение роботов            |
|   |              |         |        |                               |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 8 | DefaultKX    | YES     | int    | Коэффициент трансформации по  |
| . |              |         |        | умолчанию графика расписания  |
|   |              |         |        | по X (от 1 до 100)            |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 9 | DefaultKY    | YES     | int    | Коэффициент трансформации по  |
| . |              |         |        | умолчанию графика расписания  |
|   |              |         |        | по Y (от 1 до 100)            |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+
| 1 | TenantId     | YES     | nv     | Идентификатор тенанта         |
| 0 |              |         | archar |                               |
| . |              |         |        |                               |
|   |              |         |        |                               |
+---+--------------+---------+--------+-------------------------------+

## LoadTestScopes[^13]

Сценарий нагрузочного тестирования - контейнер нескольких нагрузочных
тестов

+---+------------+---------+--------+---------------------------------+
| № | На         | До      | Тип    | Описание                        |
|   | именование | пускает | данных |                                 |
| п | поля       | NULL    |        |                                 |
| / |            |         |        |                                 |
| п |            |         |        |                                 |
+===+============+=========+========+=================================+
| 1 | Id         | NO      | int    |                                 |
| . |            |         |        |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 2 | Name       | YES     | nv     | Наименование                    |
| . |            |         | archar |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 3 | D          | YES     | nv     | Описание                        |
| . | escription |         | archar |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 4 | TenantId   | YES     | nv     | Идентификатор тенанта           |
| . |            |         | archar |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 5 | Signal     | YES     | int    | Управляющий сигнал на изменение |
| . |            |         |        | состояния сценария нагрузочного |
|   |            |         |        | тестирования                    |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 6 | Signa      | YES     | dat    | Дата/время создания             |
| . | lCreatedAt |         | etime2 | управляющего сигнала на         |
|   |            |         |        | изменение состояния сценария    |
|   |            |         |        | нагрузочного тестирования       |
+---+------------+---------+--------+---------------------------------+
| 7 | StartedAt  | YES     | dat    | Дата/время запуска              |
| . |            |         | etime2 |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 8 | Status     | NO      | int    | Состояние                       |
| . |            |         |        |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 9 | Stat       | YES     | dat    | Дата/время изменения состояния  |
| . | eChangedAt |         | etime2 |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 1 | Wi         | NO      | bit    | True - запуск по триггеру       |
| 0 | thTriggers |         |        |                                 |
| . |            |         |        | False - ручной запуск           |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+

## LoadTestScopeSchedulerSignalNodeConfirms[^14]

Подтверждение получения сигнала для шедулеров сценариев нагрузочного
тестирования у ноды

+---+---------------+------------+-----------+------------------------+
| № | Наименование  | Допускает  | Тип       | Описание               |
|   | поля          | NULL       | данных    |                        |
| п |               |            |           |                        |
| / |               |            |           |                        |
| п |               |            |           |                        |
+===+===============+============+===========+========================+
| 1 | Id            | NO         | uniquei   |                        |
| . |               |            | dentifier |                        |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 2 | Node          | YES        | nvarchar  | Идентификатор ноды     |
| . |               |            |           | WebApi                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 3 | Confirm       | NO         | bit       | Подтверждение          |
| . |               |            |           |                        |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 4 | CreatedAt     | YES        | datetime2 | Дата/время создания    |
| . |               |            |           | записи                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 5 | UpdatedAt     | YES        | datetime2 | Дата/время обновления  |
| . |               |            |           | записи                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 6 | Lo            | NO         | int       |                        |
| . | adTestScopeId |            |           |                        |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+

## LoadTestScopeTriggers[^15]

Триггер для сценария нагрузочного тестирования

+---+----------------------+--------+-------+------------------------+
| № | Наименование поля    | Доп    | Тип   | Описание               |
|   |                      | ускает | д     |                        |
| п |                      | NULL   | анных |                        |
| / |                      |        |       |                        |
| п |                      |        |       |                        |
+===+======================+========+=======+========================+
| 1 | Id                   | NO     | int   |                        |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 2 | Type                 | NO     | int   | Тип триггера           |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 3 | CreatedAt            | NO     | date  | Дата создания триггера |
| . |                      |        | time2 |                        |
|   |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 4 | UpdatedAt            | YES    | date  | Дата изменения         |
| . |                      |        | time2 | триггера               |
|   |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 5 | LoadTestScopeId      | NO     | int   |                        |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 6 | FiredAt              | YES    | date  | Дата срабатывания      |
| . |                      |        | time2 | триггера               |
|   |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 7 | FiredAtEmail         | YES    | date  | Только для триггера    |
| . |                      |        | time2 | TriggerType.Email -    |
|   |                      |        |       | дата получения новых   |
|   |                      |        |       | писем                  |
+---+----------------------+--------+-------+------------------------+
| 8 | LastErrorMsg         | YES    | nva   | Сообщение об ошибке    |
| . |                      |        | rchar | при последнем          |
|   |                      |        |       | срабатывании           |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 9 | ScheduleId           | YES    | int   | Расписание             |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | NextFiredAt          | YES    | date  | Дата следующего        |
| 0 |                      |        | time2 | запуска триггера       |
| . |                      |        |       | шедулера               |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | IncomingEmailId      | YES    | int   |                        |
| 1 |                      |        |       |                        |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | IncomingFrom         | YES    | nva   |                        |
| 2 |                      |        | rchar |                        |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | IncomingSubject      | YES    | nva   |                        |
| 3 |                      |        | rchar |                        |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | Inc                  | YES    | int   | Максимальное           |
| 4 | omingEmailWindowSize |        |       | количество писем,      |
| . |                      |        |       | забираемых за один раз |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | IncomingE            | YES    | int   | Интервал запросов к    |
| 5 | mailIntevalInSeconds |        |       | почтовому серверу      |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | ByLoadTestScopeId    | YES    | int   |                        |
| 6 |                      |        |       |                        |
| . |                      |        |       |                        |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | LockAt               | YES    | date  | Блокировка (служебное  |
| 7 |                      |        | time2 | поле), чтобы           |
| . |                      |        |       | одновременно несколько |
|   |                      |        |       | инстансов не поставили |
|   |                      |        |       | в очередь выполнение   |
|   |                      |        |       | проекта задания этого  |
|   |                      |        |       | триггера               |
+---+----------------------+--------+-------+------------------------+
| 1 | NodeLock             | YES    | int   | Идентификатор ноды,    |
| 8 |                      |        |       | заблокировавшей        |
| . |                      |        |       | триггер в БД           |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+
| 1 | Version              | NO     | int   | Служебное поле для     |
| 9 |                      |        |       | разруливания           |
| . |                      |        |       | конкурентного доступа  |
|   |                      |        |       |                        |
+---+----------------------+--------+-------+------------------------+

## LogsDump

Системная таблица

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 1. | Id                  | NO             | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 2. | StartedAt           | YES            | datetime2  |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 3. | CompletedAt         | YES            | datetime2  |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 4. | TotalFilesCount     | YES            | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 5. | CompletedCount      | YES            | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## Nodes

Информация о ноде кластера WebApi. Пишется самой нодой

+---+------------+---------+--------+----------------------------------+
| № | На         | До      | Тип    | Описание                         |
|   | именование | пускает | данных |                                  |
| п | поля       | NULL    |        |                                  |
| / |            |         |        |                                  |
| п |            |         |        |                                  |
+===+============+=========+========+==================================+
| 1 | Id         | NO      | int    |                                  |
| . |            |         |        |                                  |
|   |            |         |        |                                  |
|   |            |         |        |                                  |
+---+------------+---------+--------+----------------------------------+
| 2 | CreatedAt  | NO      | dat    | Дата создания записи о ноде      |
| . |            |         | etime2 |                                  |
|   |            |         |        |                                  |
|   |            |         |        |                                  |
+---+------------+---------+--------+----------------------------------+
| 3 | UdatedAt   | YES     | dat    | Дата изменения записи о ноде.    |
| . |            |         | etime2 | Если запись не обновляется в     |
|   |            |         |        | течение таймаута,; остальные     |
|   |            |         |        | ноды считают эту ноду выведенной |
|   |            |         |        | из кластера                      |
+---+------------+---------+--------+----------------------------------+
| 4 | NodeId     | NO      | int    | Идентификатор ноды. Берется из   |
| . |            |         |        | конфигурационного файла ноды     |
|   |            |         |        | WebApi                           |
|   |            |         |        |                                  |
+---+------------+---------+--------+----------------------------------+

## NuGetTasks

Задача для NuGet-сервера

+---+-------------+--------+-----------+-----------------------------+
| № | Н           | Доп    | Тип       | Описание                    |
|   | аименование | ускает | данных    |                             |
| п | поля        | NULL   |           |                             |
| / |             |        |           |                             |
| п |             |        |           |                             |
+===+=============+========+===========+=============================+
| 1 | Id          | NO     | uniquei   |                             |
| . |             |        | dentifier |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 2 | Pack        | YES    | nvarchar  | Имя файла пакета,           |
| . | ageFileName |        |           | TestLib.5.0.0.nupkg,        |
|   |             |        |           | который требуется           |
|   |             |        |           | опубликовать                |
+---+-------------+--------+-----------+-----------------------------+
| 3 | CreatedAt   | NO     | datetime2 | Дата создания задачи        |
| . |             |        |           |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 4 | StartedAt   | YES    | datetime2 | Дата старта задачи          |
| . |             |        |           |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 5 | FileSize    | NO     | bigint    | Фактически записанный на    |
| . |             |        |           | диск размер файла           |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 6 | Co          | NO     | bigint    | ContentLength передаваемый  |
| . | ntentLength |        |           | в заголовке http на upload  |
|   |             |        |           | файла.; Совместно с         |
|   |             |        |           | FileSize используется для   |
|   |             |        |           | определения процента        |
|   |             |        |           | загрузки                    |
+---+-------------+--------+-----------+-----------------------------+
| 7 | UploadedAt  | YES    | datetime2 | Дата/время загрузки версии  |
| . |             |        |           | дистрибутива.;              |
|   |             |        |           | Проставляется после полного |
|   |             |        |           | скачивания файла на диск    |
+---+-------------+--------+-----------+-----------------------------+
| 8 | CompletedAt | YES    | datetime2 | Дата выполнения задачи;     |
| . |             |        |           | Выполненные задачи через    |
|   |             |        |           | некоторое время удаляются   |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 9 | Compl       | YES    | bit       | Результат вата выполнения   |
| . | etedSuccess |        |           | задачи                      |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 1 | Type        | NO     | int       | Тип задачи                  |
| 0 |             |        |           |                             |
| . |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 1 | PackageId   | YES    | nvarchar  | ID пакета, который          |
| 1 |             |        |           | требуется удалить           |
| . |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 1 | Pac         | YES    | nvarchar  | Версия пакета, который      |
| 2 | kageVersion |        |           | требуется удалить           |
| . |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 1 | ErrorMsg    | YES    | nvarchar  | Последняя ошибка при        |
| 3 |             |        |           | выполнении задачи           |
| . |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+

## ProductionCalendars

Производственный календарь

+---+------------+---------+--------+---------------------------------+
| № | На         | До      | Тип    | Описание                        |
|   | именование | пускает | данных |                                 |
| п | поля       | NULL    |        |                                 |
| / |            |         |        |                                 |
| п |            |         |        |                                 |
+===+============+=========+========+=================================+
| 1 | Id         | NO      | int    | PK                              |
| . |            |         |        |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 2 | Year       | YES     | int    | Год                             |
| . |            |         |        |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 3 | Date       | NO      | dat    | Дата                            |
| . |            |         | etime2 |                                 |
|   |            |         |        |                                 |
|   |            |         |        |                                 |
+---+------------+---------+--------+---------------------------------+
| 4 | Type       | NO      | int    | Working = 0 (рабочий),          |
| . |            |         |        | NoWorking = 1 (не рабочий),     |
|   |            |         |        | PreHoliday = 2                  |
|   |            |         |        | (предпраздничный)               |
+---+------------+---------+--------+---------------------------------+

## ProductionCalendar2

Производственный календарь шапка (множественные календари на один год)

+---+-----------------+--------------+----------+--------------------+
| № | Наименование    | Допускает    | Тип      | Описание           |
|   | поля            | NULL         | данных   |                    |
| п |                 |              |          |                    |
| / |                 |              |          |                    |
| п |                 |              |          |                    |
+===+=================+==============+==========+====================+
| 1 | Id              | NO           | int      |                    |
| . |                 |              |          |                    |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+
| 2 | Year            | NO           | int      | Год                |
| . |                 |              |          |                    |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+
| 3 | Name            | NO           | nvarchar | Наименование       |
| . |                 |              |          |                    |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+
| 4 | Description     | NO           | nvarchar | Описание           |
| . |                 |              |          |                    |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+
| 5 | TenantId        | YES          | nvarchar | Идентификатор      |
| . |                 |              |          | тенанта            |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+
| 6 | Priority        | NO           | int      | Приоритет          |
| . |                 |              |          |                    |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+

## ProductionCalendar2Items

Производственный календарь дни (множественные календари на один год)

+---+------------------+-------------+----------+--------------------+
| № | Наименование     | Допускает   | Тип      | Описание           |
|   | поля             | NULL        | данных   |                    |
| п |                  |             |          |                    |
| / |                  |             |          |                    |
| п |                  |             |          |                    |
+===+==================+=============+==========+====================+
| 1 | Id               | NO          | int      |                    |
| . |                  |             |          |                    |
|   |                  |             |          |                    |
|   |                  |             |          |                    |
+---+------------------+-------------+----------+--------------------+
| 2 | Prod             | NO          | int      |                    |
| . | uctionCalendarId |             |          |                    |
|   |                  |             |          |                    |
|   |                  |             |          |                    |
+---+------------------+-------------+----------+--------------------+
| 3 | Date             | NO          | d        | День года          |
| . |                  |             | atetime2 |                    |
|   |                  |             |          |                    |
|   |                  |             |          |                    |
+---+------------------+-------------+----------+--------------------+
| 4 | Type             | NO          | int      | Тип дня            |
| . |                  |             |          |                    |
|   |                  |             |          |                    |
|   |                  |             |          |                    |
+---+------------------+-------------+----------+--------------------+
| 5 | TenantId         | Yes         | nvarchar | Идентификатор      |
| . |                  |             |          | тенанта            |
|   |                  |             |          |                    |
|   |                  |             |          |                    |
+---+------------------+-------------+----------+--------------------+

## Rdp2AddressFilters

Производственный календарь дни (множественные календари на один год)

+---+-------------+----------+--------+-------------------------------+
| № | Н           | Д        | Тип    | Описание                      |
|   | аименование | опускает | данных |                               |
| п | поля        | NULL     |        |                               |
| / |             |          |        |                               |
| п |             |          |        |                               |
+===+=============+==========+========+===============================+
| 1 | Id          | NO       | int    |                               |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 2 | UpdatedAt   | YES      | dat    |                               |
| . |             |          | etime2 |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 3 | CreatedAt   | NO       | dat    |                               |
| . |             |          | etime2 |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 4 | Item        | NO       | nv     | Элемент AddressFilter - IP    |
| . |             |          | archar | или имя машины. Натуральный   |
|   |             |          |        | ключ                          |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 5 | Host        | NO       | nv     | IP сервера с RDP2, на котором |
| . |             |          | archar | настроен AddressFilter        |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+

## RobotAgentSessions

Системная (Робот, удерживающий RDP-сессию)

+---+-------------+---------+--------+--------------------------------+
| № | Н           | До      | Тип    | Описание                       |
|   | аименование | пускает | данных |                                |
| п | поля        | NULL    |        |                                |
| / |             |         |        |                                |
| п |             |         |        |                                |
+===+=============+=========+========+================================+
| 1 | Id          | NO      | int    |                                |
| . |             |         |        |                                |
|   |             |         |        |                                |
|   |             |         |        |                                |
+---+-------------+---------+--------+--------------------------------+
| 2 | AgentId     | NO      | int    |                                |
| . |             |         |        |                                |
|   |             |         |        |                                |
|   |             |         |        |                                |
+---+-------------+---------+--------+--------------------------------+
| 3 | RobotId     | NO      | int    |                                |
| . |             |         |        |                                |
|   |             |         |        |                                |
|   |             |         |        |                                |
+---+-------------+---------+--------+--------------------------------+
| 4 | CreatedAt   | NO      | dat    |                                |
| . |             |         | etime2 |                                |
|   |             |         |        |                                |
|   |             |         |        |                                |
+---+-------------+---------+--------+--------------------------------+
| 5 | ReleasedAt  | YES     | dat    | Дата освобождения роботом      |
| . |             |         | etime2 | RDP-сессии                     |
|   |             |         |        |                                |
|   |             |         |        |                                |
+---+-------------+---------+--------+--------------------------------+
| 6 | ProjectId   | NO      | int    | У проекта могут быть           |
| . |             |         |        | параметры, влияющие на         |
|   |             |         |        | открытие/закрытие сессии       |
|   |             |         |        |                                |
+---+-------------+---------+--------+--------------------------------+

## RobotDeployTrackings

Системная (Трекинг деплоя Робота)

+---+-------------+----------+--------+--------------------------------+
| № | Н           | Д        | Тип    | Описание                       |
|   | аименование | опускает | данных |                                |
| п | поля        | NULL     |        |                                |
| / |             |          |        |                                |
| п |             |          |        |                                |
+===+=============+==========+========+================================+
| 1 | Id          | NO       | int    |                                |
| . |             |          |        |                                |
|   |             |          |        |                                |
|   |             |          |        |                                |
+---+-------------+----------+--------+--------------------------------+
| 2 | CreatedAt   | NO       | dat    | Дата вставки записи            |
| . |             |          | etime2 |                                |
|   |             |          |        |                                |
|   |             |          |        |                                |
+---+-------------+----------+--------+--------------------------------+
| 3 | RobotId     | NO       | int    | Робот                          |
| . |             |          |        |                                |
|   |             |          |        |                                |
|   |             |          |        |                                |
+---+-------------+----------+--------+--------------------------------+
| 4 | Stage       | NO       | int    | Стадия деплоя                  |
| . |             |          |        |                                |
|   |             |          |        |                                |
|   |             |          |        |                                |
+---+-------------+----------+--------+--------------------------------+
| 5 | Success     | NO       | bit    | Результат (успешно/не успешно) |
| . |             |          |        |                                |
|   |             |          |        |                                |
|   |             |          |        |                                |
+---+-------------+----------+--------+--------------------------------+
| 6 | ErrorMsg    | YES      | nv     | Текст сообщения об ошибке      |
| . |             |          | archar |                                |
|   |             |          |        |                                |
|   |             |          |        |                                |
+---+-------------+----------+--------+--------------------------------+
| 7 | Port        | YES      | int    | Актуальный порт Робота,        |
| . |             |          |        | который зарезервирован для     |
|   |             |          |        | него при деплое                |
|   |             |          |        |                                |
+---+-------------+----------+--------+--------------------------------+

## RobotDistrExistsNodeConfirms

Системная (Подтверждение наличия дистрибутива Робота в папке
дистрибутива)

+---+--------------+----------+-----------+---------------------------+
| № | Наименование | Д        | Тип       | Описание                  |
|   | поля         | опускает | данных    |                           |
| п |              | NULL     |           |                           |
| / |              |          |           |                           |
| п |              |          |           |                           |
+===+==============+==========+===========+===========================+
| 1 | Id           | NO       | uniquei   |                           |
| . |              |          | dentifier |                           |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 2 | Node         | YES      | nvarchar  | Идентификатор ноды WebApi |
| . |              |          |           |                           |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 3 | Exists       | NO       | bit       | Дистрибутив существует в  |
| . |              |          |           | папке                     |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 4 | CreatedAt    | YES      | datetime2 | Дата/время создания       |
| . |              |          |           | записи                    |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 5 | UpdatedAt    | YES      | datetime2 | Дата/время обновления     |
| . |              |          |           | записи                    |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 6 | RobotDistrId | NO       | uniquei   |                           |
| . |              |          | dentifier |                           |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+
| 7 | Exi          | YES      | datetime2 | Дата/время обновления     |
| . | stsUpdatedAt |          |           | записи для Exists = true  |
|   |              |          |           |                           |
|   |              |          |           |                           |
+---+--------------+----------+-----------+---------------------------+

## RobotDistrs

Системная (Дистрибутив Робота)

+---+-------------------+--------+-----------+------------------------+
| № | Наименование поля | Доп    | Тип       | Описание               |
|   |                   | ускает | данных    |                        |
| п |                   | NULL   |           |                        |
| / |                   |        |           |                        |
| п |                   |        |           |                        |
+===+===================+========+===========+========================+
| 1 | Id                | NO     | uniquei   |                        |
| . |                   |        | dentifier |                        |
|   |                   |        |           |                        |
|   |                   |        |           |                        |
+---+-------------------+--------+-----------+------------------------+
| 2 | FileSize          | NO     | bigint    | Фактически записанный  |
| . |                   |        |           | на диск размер файла   |
|   |                   |        |           |                        |
|   |                   |        |           |                        |
+---+-------------------+--------+-----------+------------------------+
| 3 | ContentLength     | NO     | bigint    | ContentLength          |
| . |                   |        |           | передаваемый в         |
|   |                   |        |           | заголовке http на      |
|   |                   |        |           | upload файла.          |
|   |                   |        |           | Совместно с FileSize   |
|   |                   |        |           | используется для       |
|   |                   |        |           | определения процента   |
|   |                   |        |           | загрузки               |
+---+-------------------+--------+-----------+------------------------+
| 4 | UploadedAt        | YES    | datetime2 | Дата/время загрузки    |
| . |                   |        |           | версии                 |
|   |                   |        |           | дист                   |
|   |                   |        |           | рибутива.Проставляется |
|   |                   |        |           | после полного          |
|   |                   |        |           | скачивания файла на    |
|   |                   |        |           | диск                   |
+---+-------------------+--------+-----------+------------------------+
| 5 | Version           | YES    | nvarchar  | Версия дистрибутива    |
| . |                   |        |           |                        |
|   |                   |        |           |                        |
|   |                   |        |           |                        |
+---+-------------------+--------+-----------+------------------------+
| 6 | Activated         | YES    | bit       | Активирован            |
| . |                   |        |           |                        |
|   |                   |        |           |                        |
|   |                   |        |           |                        |
+---+-------------------+--------+-----------+------------------------+
| 7 | ActivatedAt       | YES    | datetime2 | Дата/время активации   |
| . |                   |        |           |                        |
|   |                   |        |           |                        |
|   |                   |        |           |                        |
+---+-------------------+--------+-----------+------------------------+
| 8 | X64               | YES    | bit       | Платформа (x64, x86)   |
| . |                   |        |           |                        |
|   |                   |        |           |                        |
|   |                   |        |           |                        |
+---+-------------------+--------+-----------+------------------------+
| 9 | Description       | YES    | nvarchar  | Описание. Основное     |
| . |                   |        |           | назначение - не путать |
|   |                   |        |           | дистрибутивы           |
|   |                   |        |           | одинаковой версии      |
+---+-------------------+--------+-----------+------------------------+
| 1 | Linux             | NO     | bit       |                        |
| 0 |                   |        |           |                        |
| . |                   |        |           |                        |
|   |                   |        |           |                        |
+---+-------------------+--------+-----------+------------------------+
| 1 | NodesDe           | YES    | datetime2 | Долгое время от        |
| 1 | synchronizationAt |        |           | какой-либо ноды нет    |
| . |                   |        |           | подтверждения          |
|   |                   |        |           |                        |
+---+-------------------+--------+-----------+------------------------+
| 1 | NodeSequ          | YES    | datetime2 | В серии                |
| 2 | entialSwitchingAt |        |           | последовательных       |
| . |                   |        |           | согласований (задается |
|   |                   |        |           | в конфиге)             |
|   |                   |        |           | подтверждение          |
|   |                   |        |           | постоянно меняется     |
+---+-------------------+--------+-----------+------------------------+

## RobotGroupItems

Привязка робота к группе

+----+---------------------+----------------+------------+------------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание   |
|    |                     |                |            |            |
| п  |                     |                |            |            |
| /п |                     |                |            |            |
+====+=====================+================+============+============+
| 1. | Id                  | NO             | int        | PK         |
|    |                     |                |            |            |
+----+---------------------+----------------+------------+------------+
| 2. | GroupId             | NO             | int        | Группа     |
|    |                     |                |            | (FK)       |
+----+---------------------+----------------+------------+------------+
| 3. | RobotId             | NO             | int        | Робот (FK) |
|    |                     |                |            |            |
+----+---------------------+----------------+------------+------------+

## RobotGroups

Группа робота

+---+-----------------+--------------+----------+--------------------+
| № | Наименование    | Допускает    | Тип      | Описание           |
|   | поля            | NULL         | данных   |                    |
| п |                 |              |          |                    |
| / |                 |              |          |                    |
| п |                 |              |          |                    |
+===+=================+==============+==========+====================+
| 1 | Id              | NO           | int      | PK                 |
| . |                 |              |          |                    |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+
| 2 | Name            | NO           | nvarchar | Наименование       |
| . |                 |              |          |                    |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+
| 3 | Description     | YES          | nvarchar | Описание           |
| . |                 |              |          |                    |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+
| 4 | TenantId        | YES          | nvarchar | Идентификатор      |
| . |                 |              |          | тенанта            |
|   |                 |              |          |                    |
|   |                 |              |          |                    |
+---+-----------------+--------------+----------+--------------------+

## Robots

+---+------------------------+--------+-----------+-------------------+
| № | Наименование поля      | Доп    | Тип       | Описание          |
|   |                        | ускает | данных    |                   |
| п |                        | NULL   |           |                   |
| / |                        |        |           |                   |
| п |                        |        |           |                   |
+===+========================+========+===========+===================+
| 1 | Id                     | NO     | int       |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | Name                   | YES    | nvarchar  |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 3 | WorkerId               | NO     | int       |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 4 | Key                    | YES    | nvarchar  |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 5 | Port                   | YES    | nvarchar  |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 6 | RobotUserName          | YES    | nvarchar  |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 7 | RobotPassword          | YES    | nvarchar  |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 8 | Deployment             | NO     | int       |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 9 | CurrentPlatform        | YES    | int       |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | CurrentTemplateId      | YES    | int       |                   |
| 0 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | Lang                   | YES    | int       |                   |
| 1 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | CurrentProjectId       | YES    | int       | Текущий проект    |
| 2 |                        |        |           | робота            |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | CurrentProjectAt       | YES    | datetime2 | Дата назначения   |
| 3 |                        |        |           | текущего проекта  |
| . |                        |        |           | Оркестратором     |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | C                      | YES    | datetime2 | Дата запуска      |
| 4 | urrentProjectStartedAt |        |           | текущего проекта  |
| . |                        |        |           | Роботом           |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | Status                 | NO     | int       | Статус Робота     |
| 5 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | StatusDate             | NO     | datetime2 |                   |
| 6 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | Disabled               | NO     | bit       |                   |
| 7 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | Version                | YES    | nvarchar  | Версия            |
| 8 |                        |        |           | дистрибутива      |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 1 | Edition                | NO     | int       | Редакция          |
| 9 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | CurrentPr              | YES    | bit       | Выполнение        |
| 0 | ojectCompletedNoErrors |        |           | текущего проекта  |
| . |                        |        |           | завершено Роботом |
|   |                        |        |           | без ошибок        |
+---+------------------------+--------+-----------+-------------------+
| 2 | Cur                    | YES    | datetime2 |                   |
| 1 | rentProjectCompletedAt |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | LockAt                 | YES    | datetime2 | Признак           |
| 2 |                        |        |           | блокировки        |
| . |                        |        |           | Оркестратором (не |
|   |                        |        |           | \"приложения на   |
|   |                        |        |           | машине Робота\",  |
|   |                        |        |           | а \"сущности в БД |
|   |                        |        |           | Оркестратора\")   |
+---+------------------------+--------+-----------+-------------------+
| 2 | SoftKillSendAt         | YES    | datetime2 | Дата, когда       |
| 3 |                        |        |           | Оркестратор       |
| . |                        |        |           | попросил Робота   |
|   |                        |        |           | убиться           |
+---+------------------------+--------+-----------+-------------------+
| 2 | LastStartOperationKey  | YES    | uniquei   | Идентификатор     |
| 4 |                        |        | dentifier | последней         |
| . |                        |        |           | операции старта   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | TenantId               | YES    | nvarchar  | Идентификатор     |
| 5 |                        |        |           | тенанта           |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | CurrentAssignmentId    | YES    | int       | Задание, в рамках |
| 6 |                        |        |           | которого назначен |
| . |                        |        |           | роботу проект на  |
|   |                        |        |           | выполнение        |
+---+------------------------+--------+-----------+-------------------+
| 2 | DeploymentError        | YES    | nvarchar  |                   |
| 7 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | AgentLockAt            | YES    | datetime2 | Признак           |
| 8 |                        |        |           | блокировки Робота |
| . |                        |        |           | Агентом           |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 2 | AgentId                | YES    | int       |                   |
| 9 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 3 | PushStatus             | NO     | bit       | Если false,       |
| 0 |                        |        |           | Оркестратор       |
| . |                        |        |           | получает Status   |
|   |                        |        |           | Робота через его  |
|   |                        |        |           | опрос             |
|   |                        |        |           |                   |
|   |                        |        |           | Если true, Агент  |
|   |                        |        |           | собирает Status   |
|   |                        |        |           | Роботов и пачкой  |
|   |                        |        |           | отправляет в      |
|   |                        |        |           | Оркестратор       |
+---+------------------------+--------+-----------+-------------------+
| 3 | StartError             | NO     | int       | Тип ошибки при    |
| 1 |                        |        |           | старте робота     |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 3 | HardKillStartedAt      | YES    | datetime2 | Дата старта       |
| 2 |                        |        |           | команды           |
| . |                        |        |           | принудительного   |
|   |                        |        |           | останова робота   |
+---+------------------------+--------+-----------+-------------------+
| 3 | EngineVersion          | NO     | int       |                   |
| 3 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 3 | AliveInterval          | YES    | int       | Интервал (мсек),  |
| 4 |                        |        |           | черезкоторый      |
| . |                        |        |           | робот шлет свое   |
|   |                        |        |           | состояние; Если   |
|   |                        |        |           | не задан,         |
|   |                        |        |           | используется из   |
|   |                        |        |           | конфигурационного |
|   |                        |        |           | файла             |
+---+------------------------+--------+-----------+-------------------+
| 3 | Linux                  | YES    | bit       | Дистрибутив для   |
| 5 |                        |        |           | Linux; Версия     |
| . |                        |        |           | дистрибутива при  |
|   |                        |        |           | этом может быть   |
|   |                        |        |           | таже, что и для   |
|   |                        |        |           | Windows           |
+---+------------------------+--------+-----------+-------------------+
| 3 | NodeId                 | YES    | int       | Идентификатор     |
| 6 |                        |        |           | ноды, которая     |
| . |                        |        |           | меняла запись     |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 3 | AdAuth                 | NO     | bit       | Используется      |
| 7 |                        |        |           | AD-аутентификация |
| . |                        |        |           | (RDP-учетка или   |
|   |                        |        |           | учетка машины     |
|   |                        |        |           | робота)           |
+---+------------------------+--------+-----------+-------------------+
| 3 | UserName               | YES    | nvarchar  | \-                |
| 8 |                        |        |           |                   |
| . |                        |        |           |                   |
|   |                        |        |           |                   |
+---+------------------------+--------+-----------+-------------------+
| 3 | UserPassword           | YES    | nvarchar  | Пароль            |
| 9 |                        |        |           | пользователя      |
| . |                        |        |           | оркестратора.     |
|   |                        |        |           | Должен совпадать  |
|   |                        |        |           | с паролем из      |
|   |                        |        |           | Users (там он не  |
|   |                        |        |           | хранится)         |
+---+------------------------+--------+-----------+-------------------+

## RobotSoftKillSignals

Сигнал мягкого останова для робота (1-1 с таблицей Robots)

+---+------------+---------+-----------+------------------------------+
| № | На         | До      | Тип       | Описание                     |
|   | именование | пускает | данных    |                              |
| п | поля       | NULL    |           |                              |
| / |            |         |           |                              |
| п |            |         |           |                              |
+===+============+=========+===========+==============================+
| 1 | Id         | NO      | int       | Совпадает с Id из Robots,    |
| . |            |         |           | связь 1-1                    |
|   |            |         |           |                              |
|   |            |         |           |                              |
+---+------------+---------+-----------+------------------------------+
| 2 | Op         | YES     | uniquei   | \-                           |
| . | erationKey |         | dentifier |                              |
|   |            |         |           |                              |
|   |            |         |           |                              |
+---+------------+---------+-----------+------------------------------+
| 3 | RobotKey   | YES     | nvarchar  | Натуральный PK. Используется |
| . |            |         |           | при опросе таблицы роботами, |
|   |            |         |           | чтобы не делать запрос в     |
|   |            |         |           | таблицу Robots               |
+---+------------+---------+-----------+------------------------------+
| 4 | CreatedtAt | NO      | datetime2 | \-                           |
| . |            |         |           |                              |
|   |            |         |           |                              |
|   |            |         |           |                              |
+---+------------+---------+-----------+------------------------------+

## RobotStartTrackings

Трекинг старта Робота

+---+---------------+------------+---------+---------------------------+
| № | Наименование  | Допускает  | Тип     | Описание                  |
|   | поля          | NULL       | данных  |                           |
| п |               |            |         |                           |
| / |               |            |         |                           |
| п |               |            |         |                           |
+===+===============+============+=========+===========================+
| 1 | Id            | NO         | int     |                           |
| . |               |            |         |                           |
|   |               |            |         |                           |
|   |               |            |         |                           |
+---+---------------+------------+---------+---------------------------+
| 2 | CreatedAt     | NO         | da      | Дата вставки записи       |
| . |               |            | tetime2 |                           |
|   |               |            |         |                           |
|   |               |            |         |                           |
+---+---------------+------------+---------+---------------------------+
| 3 | UpdatedAt     | YES        | da      | Дата изменения записи     |
| . |               |            | tetime2 |                           |
|   |               |            |         |                           |
|   |               |            |         |                           |
+---+---------------+------------+---------+---------------------------+
| 4 | RobotId       | NO         | int     | Робот                     |
| . |               |            |         |                           |
|   |               |            |         |                           |
|   |               |            |         |                           |
+---+---------------+------------+---------+---------------------------+
| 5 | Stage         | NO         | int     | Стадия старта             |
| . |               |            |         |                           |
|   |               |            |         |                           |
|   |               |            |         |                           |
+---+---------------+------------+---------+---------------------------+
| 6 | Success       | NO         | bit     | Результат (успешно/не     |
| . |               |            |         | успешно)                  |
|   |               |            |         |                           |
|   |               |            |         |                           |
+---+---------------+------------+---------+---------------------------+
| 7 | ErrorMsg      | YES        | n       | Текст сообщения об ошибке |
| . |               |            | varchar |                           |
|   |               |            |         |                           |
|   |               |            |         |                           |
+---+---------------+------------+---------+---------------------------+
| 8 | NumberRequest | YES        | int     | Номер попытки обращения к |
| . |               |            |         | роботу                    |
|   |               |            |         |                           |
|   |               |            |         |                           |
+---+---------------+------------+---------+---------------------------+

## RobotUnlockQueue

Очередь разблокировки робота. Отправляется сюда, если по какой-то
причине не получилось разблокировать робота, например, не доступна
машина робота

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 1. | Id                  | NO             | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 2. | UpdatedAt           | YES            | datetime2  |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 3. | TenantId            | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 4. | Ip                  | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 5. | RobotKey            | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 6. | CreatedAt           | NO             | datetime2  |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 7. | UpdateCount         | YES            | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## RolePermissions

Права

+---+--------------+-----------+--------+----------------------------+
| № | Наименование | Допускает | Тип    | Описание                   |
|   | поля         | NULL      | данных |                            |
| п |              |           |        |                            |
| / |              |           |        |                            |
| п |              |           |        |                            |
+===+==============+===========+========+============================+
| 1 | Id           | NO        | int    |                            |
| . |              |           |        |                            |
|   |              |           |        |                            |
|   |              |           |        |                            |
+---+--------------+-----------+--------+----------------------------+
| 2 | RoleId       | YES       | nv     | Идентификатор роли из БД   |
| . |              |           | archar | ltoolsidentity             |
|   |              |           |        |                            |
|   |              |           |        |                            |
+---+--------------+-----------+--------+----------------------------+
| 3 | JsonValue    | YES       | nv     | Сериализованное значение   |
| . |              |           | archar | прав                       |
|   |              |           |        |                            |
|   |              |           |        |                            |
+---+--------------+-----------+--------+----------------------------+
| 4 | CreatedAt    | NO        | dat    |                            |
| . |              |           | etime2 |                            |
|   |              |           |        |                            |
|   |              |           |        |                            |
+---+--------------+-----------+--------+----------------------------+
| 5 | UpdatedAt    | YES       | dat    |                            |
| . |              |           | etime2 |                            |
|   |              |           |        |                            |
|   |              |           |        |                            |
+---+--------------+-----------+--------+----------------------------+

## RootFolderUsers2

Права на Root-папку

+---+------------+---------+-------+---------------------------------+
| № | На         | До      | Тип   | Описание                        |
|   | именование | пускает | д     |                                 |
| п | поля       | NULL    | анных |                                 |
| / |            |         |       |                                 |
| п |            |         |       |                                 |
+===+============+=========+=======+=================================+
| 1 | Id         | NO      | int   |                                 |
| . |            |         |       |                                 |
|   |            |         |       |                                 |
|   |            |         |       |                                 |
+---+------------+---------+-------+---------------------------------+
| 2 | UserId     | NO      | nva   | \-                              |
| . |            |         | rchar |                                 |
|   |            |         |       |                                 |
|   |            |         |       |                                 |
+---+------------+---------+-------+---------------------------------+
| 3 | TenantId   | YES     | nva   | Идентификатор тенанта           |
| . |            |         | rchar |                                 |
|   |            |         |       |                                 |
|   |            |         |       |                                 |
+---+------------+---------+-------+---------------------------------+
| 4 | AccessType | YES     | int   | Тип прав на папку - чтение,     |
| . |            |         |       | запись и т.д.; Вариантом        |
|   |            |         |       | сбросить права является         |
|   |            |         |       | установить в null               |
+---+------------+---------+-------+---------------------------------+
| 5 | FromUserId | NO      | nva   | \-                              |
| . |            |         | rchar |                                 |
|   |            |         |       |                                 |
|   |            |         |       |                                 |
+---+------------+---------+-------+---------------------------------+

## RpaProjectArchiveExistsNodeConfirms

Подтверждение наличия архива RPA-проекта в папке RPA-проектов

+---+---------------+------------+-----------+------------------------+
| № | Наименование  | Допускает  | Тип       | Описание               |
|   | поля          | NULL       | данных    |                        |
| п |               |            |           |                        |
| / |               |            |           |                        |
| п |               |            |           |                        |
+===+===============+============+===========+========================+
| 1 | Id            | NO         | uniquei   |                        |
| . |               |            | dentifier |                        |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 2 | Node          | YES        | nvarchar  | Идентификатор ноды     |
| . |               |            |           | WebApi                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 3 | Exists        | NO         | bit       | Дистрибутив существует |
| . |               |            |           | в папке                |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 4 | CreatedAt     | YES        | datetime2 | Дата/время создания    |
| . |               |            |           | записи                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 5 | UpdatedAt     | YES        | datetime2 | Дата/время обновления  |
| . |               |            |           | записи                 |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+
| 6 | RpaPro        | NO         | int       |                        |
| . | jectArchiveId |            |           |                        |
|   |               |            |           |                        |
|   |               |            |           |                        |
+---+---------------+------------+-----------+------------------------+

## RpaProjectArchives

RPA-проект

+---+-------------+--------+-----------+-----------------------------+
| № | Н           | Доп    | Тип       | Описание                    |
|   | аименование | ускает | данных    |                             |
| п | поля        | NULL   |           |                             |
| / |             |        |           |                             |
| п |             |        |           |                             |
+===+=============+========+===========+=============================+
| 1 | Id          | NO     | int       |                             |
| . |             |        |           |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 2 | Body        | YES    | varbinary |                             |
| . |             |        |           |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 3 | ProjectId   | YES    | int       | При создании сначала на     |
| . |             |        |           | диск сохраняется файл       |
|   |             |        |           | архива, и только потом ему  |
|   |             |        |           | назначается ProjectId       |
+---+-------------+--------+-----------+-----------------------------+
| 4 | Co          | NO     | bigint    | ContentLength передаваемый  |
| . | ntentLength |        |           | в заголовке http на upload  |
|   |             |        |           | файла                       |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 5 | Description | YES    | nvarchar  | Описание                    |
| . |             |        |           |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 6 | FileId      | YES    | uniquei   |                             |
| . |             |        | dentifier |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 7 | FileSize    | NO     | bigint    | Фактически записанный на    |
| . |             |        |           | диск размер файла           |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 8 | UploadedAt  | YES    | datetime2 | Дата/время загрузки файла   |
| . |             |        |           |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 9 | TenantId    | YES    | nvarchar  | Идентификатор тенанта       |
| . |             |        |           |                             |
|   |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 1 | ProjectName | YES    | nvarchar  | Название проекта (извлекаем |
| 0 |             |        |           | из файла проекта). Основное |
| . |             |        |           | назначение - автоматически  |
|   |             |        |           | заполнить поле Название     |
|   |             |        |           | проекта                     |
+---+-------------+--------+-----------+-----------------------------+
| 1 | Pro         | YES    | nvarchar  | Номер версии (в             |
| 1 | jectVersion |        |           | соответствии с принятой     |
| . |             |        |           | системой нумерации версий у |
|   |             |        |           | разработчиков проектов).    |
+---+-------------+--------+-----------+-----------------------------+
| 1 | PreRelease  | NO     | bit       | Признак, что версия         |
| 2 |             |        |           | является предрелизной.      |
| . |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+
| 1 | Vers        | YES    | nvarchar  | Комментарий к текущей       |
| 3 | ionComments |        |           | версии проекта (сырые       |
| . |             |        |           | данные, считываемые из      |
|   |             |        |           | архива с проектом при его   |
|   |             |        |           | загрузке в орк)             |
+---+-------------+--------+-----------+-----------------------------+
| 1 | T           | YES    | nvarchar  | Тэги (строка с              |
| 4 | agsAsString |        |           | разделителями ;) для        |
| . |             |        |           | текущей версии проекта      |
|   |             |        |           | (сырые данные, считываемые  |
|   |             |        |           | из архива с проектом при    |
|   |             |        |           | его загрузке в орк)         |
+---+-------------+--------+-----------+-----------------------------+
| 1 | IdeaHubId   | YES    | nvarchar  | Идентификатор шаблона       |
| 5 |             |        |           | проекта из IdeaHub (сырые   |
| . |             |        |           | данные, считываемые из      |
|   |             |        |           | архива с проектом при его   |
|   |             |        |           | загрузке в орк)             |
+---+-------------+--------+-----------+-----------------------------+
| 1 | ParsedAt    | YES    | datetime2 | Дата/время окончания        |
| 6 |             |        |           | обработки файла.            |
| . |             |        |           |                             |
|   |             |        |           |                             |
+---+-------------+--------+-----------+-----------------------------+

## RpaProjectLaunches

Запуск Rpa-проекта

+---+---------------+--------+-----------+----------------------------+
| № | Наименование  | Доп    | Тип       | Описание                   |
|   | поля          | ускает | данных    |                            |
| п |               | NULL   |           |                            |
| / |               |        |           |                            |
| п |               |        |           |                            |
+===+===============+========+===========+============================+
| 1 | Id            | NO     | int       |                            |
| . |               |        |           |                            |
|   |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 2 | OperationKey  | NO     | uniquei   | Натуральный ключ           |
| . |               |        | dentifier |                            |
|   |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 3 | ProjectId     | NO     | int       |                            |
| . |               |        |           |                            |
|   |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 4 | RobotId       | NO     | int       |                            |
| . |               |        |           |                            |
|   |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 5 | AssignmentId  | YES    | int       |                            |
| . |               |        |           |                            |
|   |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 6 | StartedAt     | NO     | datetime2 | Дата запуска               |
| . |               |        |           |                            |
|   |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 7 | CompletedAt   | YES    | datetime2 | Дата завершения            |
| . |               |        |           |                            |
|   |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 8 | Success       | YES    | bit       | Результат                  |
| . |               |        |           |                            |
|   |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 9 | KilledAt      | YES    | datetime2 | Дата принудительного       |
| . |               |        |           | завершения через           |
|   |               |        |           | Оркестратор                |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 1 | TriggerId     | YES    | int       | \-                         |
| 0 |               |        |           |                            |
| . |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 1 | R             | YES    | datetime2 | Дата получение сигнала     |
| 1 | obotStartedAt |        |           | старта от робота           |
| . |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 1 | L             | YES    | uniquei   | Ключ цепочки запусков. Не  |
| 2 | aunchChainKey |        | dentifier | используется для ручного   |
| . |               |        |           | запуска робота с проектом  |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 1 | Manual        | YES    | bit       | Ручной запуск робота с     |
| 3 |               |        |           | проектом. Чтобы отличать   |
| . |               |        |           | от ручного помещения       |
|   |               |        |           | проекта в очередь          |
|   |               |        |           | проектов; Строго для       |
|   |               |        |           | AssignmentId = null        |
+---+---------------+--------+-----------+----------------------------+
| 1 | TimeoutAt     | YES    | datetime2 | Освобождение робота по     |
| 4 |               |        |           | таймауту                   |
| . |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 1 | RdpSes        | YES    | datetime2 | Дата открытия RDP-сессии;  |
| 5 | sionStartedAt |        |           | Если загрузка профиля      |
| . |               |        |           | пользователя длится долго  |
|   |               |        |           | (дольше периода итерации в |
|   |               |        |           | Star                       |
|   |               |        |           | tRobotCommandBusService),; |
|   |               |        |           | то сначала установится эта |
|   |               |        |           | дата. Иначе она будет      |
|   |               |        |           | пустая (тогда пользоваться |
|   |               |        |           | UserProfileLoadedAt);      |
|   |               |        |           | Также эта дата             |
|   |               |        |           | установится, если ожидание |
|   |               |        |           | загрузки профиля           |
|   |               |        |           | пользователя отключено в   |
|   |               |        |           | конфиге                    |
+---+---------------+--------+-----------+----------------------------+
| 1 | UserPr        | YES    | datetime2 | Дата загрузки профиля      |
| 6 | ofileLoadedAt |        |           | пользователя. Профиль      |
| . |               |        |           | пользователя загружается   |
|   |               |        |           | обязательно после;         |
|   |               |        |           | открытия RDP-сессии; Не    |
|   |               |        |           | устанавливается, если      |
|   |               |        |           | ожидание загрузки профиля  |
|   |               |        |           | пользователя отключено в   |
|   |               |        |           | конфиге                    |
+---+---------------+--------+-----------+----------------------------+
| 1 | ErrorAt       | YES    | datetime2 | \-                         |
| 7 |               |        |           |                            |
| . |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 1 | ErrorType     | YES    | int       | \-                         |
| 8 |               |        |           |                            |
| . |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 1 | Repeated      | YES    | bit       | Был ли запуск повторен из  |
| 9 |               |        |           | UI орка (ручной запуск, но |
| . |               |        |           | при этом AssignmentId      |
|   |               |        |           | может быть не null)        |
+---+---------------+--------+-----------+----------------------------+
| 2 | NodeId        | YES    | int       | Идентификатор узла,        |
| 0 |               |        |           | занявшего записи           |
| . |               |        |           |                            |
|   |               |        |           |                            |
+---+---------------+--------+-----------+----------------------------+
| 2 | RdpS          | YES    | datetime2 | Дата начала открытия       |
| 1 | essionBeginAt |        |           | RDP-сессии. Чтобы по       |
| . |               |        |           | завершении можно было      |
|   |               |        |           | оценить затраченное на     |
|   |               |        |           | открытие;                  |
|   |               |        |           | RDP-сессии/ожидание        |
|   |               |        |           | загрузки профиля           |
|   |               |        |           | пользователя время         |
+---+---------------+--------+-----------+----------------------------+

## RpaProjectLaunchVariables

Переменная Rpa-проекта, которую робот считает/запишет по OperationKey

+---+---------------+------------+---------+--------------------------+
| № | Наименование  | Допускает  | Тип     | Описание                 |
|   | поля          | NULL       | данных  |                          |
| п |               |            |         |                          |
| / |               |            |         |                          |
| п |               |            |         |                          |
+===+===============+============+=========+==========================+
| 1 | Id            | NO         | int     |                          |
| . |               |            |         |                          |
|   |               |            |         |                          |
|   |               |            |         |                          |
+---+---------------+------------+---------+--------------------------+
| 2 | RpaPr         | NO         | int     | Запуск Rpa-проекта       |
| . | ojectLaunchId |            |         |                          |
|   |               |            |         |                          |
|   |               |            |         |                          |
+---+---------------+------------+---------+--------------------------+
| 3 | RpaProj       | NO         | int     | Переменная проекта       |
| . | ectVariableId |            |         |                          |
|   |               |            |         |                          |
|   |               |            |         |                          |
+---+---------------+------------+---------+--------------------------+
| 4 | Value         | YES        | n       | Строковое представление  |
| . |               |            | varchar | значения                 |
|   |               |            |         |                          |
|   |               |            |         |                          |
+---+---------------+------------+---------+--------------------------+
| 5 | ReadedAt      | YES        | da      |                          |
| . |               |            | tetime2 |                          |
|   |               |            |         |                          |
|   |               |            |         |                          |
+---+---------------+------------+---------+--------------------------+
| 6 | WrittedAt     | YES        | da      |                          |
| . |               |            | tetime2 |                          |
|   |               |            |         |                          |
|   |               |            |         |                          |
+---+---------------+------------+---------+--------------------------+

## RpaProjectQueue

Состояние очереди проектов на выполнение - только для отображения в UI,
в качестве реальной очереди используется RabbitMQ

+---+----------------+--------+-----------+--------------------------+
| № | Наименование   | Доп    | Тип       | Описание                 |
|   | поля           | ускает | данных    |                          |
| п |                | NULL   |           |                          |
| / |                |        |           |                          |
| п |                |        |           |                          |
+===+================+========+===========+==========================+
| 1 | Id             | NO     | int       |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 2 | ProjectId      | NO     | int       |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 3 | CreatedAt      | NO     | datetime2 |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 4 | UpdatedAt      | YES    | datetime2 |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 5 | Lost           | NO     | bit       |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 6 | PublishFailed  | NO     | bit       |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 7 | OperationKey   | YES    | uniquei   | Идентификатор операции   |
| . |                |        | dentifier |                          |
|   |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 8 | RobotId        | YES    | int       | Робот, которому на       |
| . |                |        |           | выполнение назначен      |
|   |                |        |           | проект                   |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 9 | Ins            | YES    | int       |                          |
| . | tanceCreatedId |        |           |                          |
|   |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 1 | Ins            | YES    | datetime2 |                          |
| 0 | tanceUpdatedAt |        |           |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 1 | Ins            | YES    | int       |                          |
| 1 | tanceUpdatedId |        |           |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 1 | ErrorMsg       | YES    | nvarchar  | Текст ошибки запуска     |
| 2 |                |        |           |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 1 | ErrorRobotId   | YES    | int       | Робот, на котором        |
| 3 |                |        |           | произошел сбой запуска   |
| . |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 1 | ForceDeletedAt | YES    | datetime2 | Признак ручного          |
| 4 |                |        |           | (принудительного)        |
| . |                |        |           | удаления проекта из      |
|   |                |        |           | очереди                  |
+---+----------------+--------+-----------+--------------------------+
| 1 | AssignmentId   | YES    | int       | Задание, в рамках        |
| 5 |                |        |           | которого проект          |
| . |                |        |           | назначается на           |
|   |                |        |           | выполнение               |
+---+----------------+--------+-----------+--------------------------+
| 1 | DurationLevel  | YES    | int       |                          |
| 6 |                |        |           |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 1 | Tr             | YES    | nvarchar  |                          |
| 7 | iggerEventJson |        |           |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 1 | ReadedAt       | YES    | datetime2 | Дата извлечения из       |
| 8 |                |        |           | очереди без              |
| . |                |        |           | подтверждения            |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 1 | Repeated       | YES    | bit       | Повторный запуск из UI   |
| 9 |                |        |           | Оркестратора             |
| . |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 2 | Worke          | NO     | int       | Количество повторных     |
| 0 | rOverflowCount |        |           | помещений в очередь по   |
| . |                |        |           | причине перегруженности  |
|   |                |        |           | машины робота            |
+---+----------------+--------+-----------+--------------------------+
| 2 | LaunchChainKey | NO     | uniquei   | Ключ цепочки запусков.   |
| 1 |                |        | dentifier |                          |
| . |                |        |           |                          |
|   |                |        |           |                          |
+---+----------------+--------+-----------+--------------------------+
| 2 | UserFolderId   | NO     | int       | Папка пользователя, в    |
| 2 |                |        |           | контексте которой        |
| . |                |        |           | произощло событие; Для   |
|   |                |        |           | кэширования списка Id    |
|   |                |        |           | роботов папки            |
+---+----------------+--------+-----------+--------------------------+

## RpaProjectRobots 

Привязка роботов к проекту

+---+--------------+-----------+--------+-----------------------------+
| № | Наименование | Допускает | Тип    | Описание                    |
|   | поля         | NULL      | данных |                             |
| п |              |           |        |                             |
| / |              |           |        |                             |
| п |              |           |        |                             |
+===+==============+===========+========+=============================+
| 1 | Id           | NO        | int    |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 2 | ProjectId    | NO        | int    |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 3 | RobotId      | NO        | int    |                             |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 4 | Ord          | NO        | int    | Чем выше, тем приоритетней  |
| . |              |           |        |                             |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+
| 5 | Reason       | YES       | nv     | Причина, по которой         |
| . |              |           | archar | осуществлена привязка       |
|   |              |           |        |                             |
|   |              |           |        |                             |
+---+--------------+-----------+--------+-----------------------------+

## RpaProjectTags

Тэг RPA-проекта

+----+--------------------+----------------+---------------+----------+
| №  | Наименование поля  | Допускает NULL | Тип данных    | Описание |
|    |                    |                |               |          |
| п  |                    |                |               |          |
| /п |                    |                |               |          |
+====+====================+================+===============+==========+
| 1. | Id                 | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 2. | RpaProjectId       | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 3. | TagId              | NO             | uni           |          |
|    |                    |                | queidentifier |          |
+----+--------------------+----------------+---------------+----------+
| 4. | CreatedAt          | NO             | datetime2     |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+

## RpaProjectWorkflows

Процесс Rpa-проекта, прочитанный из файла

+----+--------------------+----------------+---------------+----------+
| №  | Наименование поля  | Допускает NULL | Тип данных    | Описание |
|    |                    |                |               |          |
| п  |                    |                |               |          |
| /п |                    |                |               |          |
+====+====================+================+===============+==========+
| 1. | Id                 | NO             | int           |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+
| 2. | FileId             | NO             | uni           |          |
|    |                    |                | queidentifier |          |
+----+--------------------+----------------+---------------+----------+
| 3. | Workflow           | NO             | nvarchar      |          |
|    |                    |                |               |          |
+----+--------------------+----------------+---------------+----------+

## RpaProjects 

RpaProject-файл и его параметры запуска

+---+----------------------+--------+-------+-------------------------+
| № | Наименование поля    | Доп    | Тип   | Описание                |
|   |                      | ускает | д     |                         |
| п |                      | NULL   | анных |                         |
| / |                      |        |       |                         |
| п |                      |        |       |                         |
+===+======================+========+=======+=========================+
| 1 | Id                   | NO     | int   |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | Name                 | YES    | nva   | Глобально уникальное    |
| . |                      |        | rchar | наименование проекта    |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 3 | Description          | YES    | nva   | Описание проекта        |
| . |                      |        | rchar |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 4 | MainWorkflow         | YES    | nva   |                         |
| . |                      |        | rchar |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 5 | SoftPlatform         | NO     | int   |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 6 | Disabled             | NO     | bit   |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 7 | RunConfig            | YES    | int   | Конфигурация запуска    |
| . |                      |        |       | стандартная             |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 8 | RunConfigCustom      | YES    | nva   | Конфигурация запуска    |
| . |                      |        | rchar | специальная             |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 9 | Mock                 | NO     | bit   | Использовать заглушки   |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | DurationLevel        | YES    | int   | Уровень                 |
| 0 |                      |        |       | продолжительности       |
| . |                      |        |       | задержки в очереди      |
|   |                      |        |       | задержки                |
+---+----------------------+--------+-------+-------------------------+
| 1 | ParentId             | YES    | int   | Родительская версия     |
| 1 |                      |        |       |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | Version              | NO     | int   | Номер версии            |
| 2 |                      |        |       |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | CreatedAt            | NO     | date  | Дата создания записи    |
| 3 |                      |        | time2 |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | TenantId             | YES    | nva   | Идентификатор тенанта   |
| 4 |                      |        | rchar |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | RobotDistrVersions   | YES    | nva   | Список версий           |
| 5 |                      |        | rchar | дистрибутивов роботов   |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | CloseRDPSession      | NO     | bit   | После выполнения        |
| 6 |                      |        |       | проекта роботом закрыть |
| . |                      |        |       | RDP-сессию              |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | Active               | NO     | bit   | Флаг активности         |
| 7 |                      |        |       |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | ProjectArchiveId     | YES    | int   | Заполняется после       |
| 8 |                      |        |       | загрузки файла проекта, |
| . |                      |        |       | дублирует 1-1 связь в   |
|   |                      |        |       | существующей реализации |
+---+----------------------+--------+-------+-------------------------+
| 1 | ExclusiveLaunch      | NO     | bit   | Проект запускается в    |
| 9 |                      |        |       | единственном экземпляре |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | NoDu                 | NO     | bit   | Не повторять в очереди  |
| 0 | plicateDeferredQueue |        |       | ожидания                |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | PublishSource        | YES    | int   | Источник, из которого   |
| 1 |                      |        |       | был опубликован проект  |
| . |                      |        |       | (залит архив)           |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | ProjectVersion       | YES    | nva   | Номер версии (в         |
| 2 |                      |        | rchar | соответствии с принятой |
| . |                      |        |       | системой нумерации      |
|   |                      |        |       | версий у разработчиков  |
|   |                      |        |       | проектов).; Берется из  |
|   |                      |        |       | метаданных проекта.     |
|   |                      |        |       | Может быть              |
|   |                      |        |       | отредактировано         |
+---+----------------------+--------+-------+-------------------------+
| 2 | PreRelease           | NO     | bit   | Признак, что версия     |
| 3 |                      |        |       | является предрелизной.; |
| . |                      |        |       | Берется из метаданных   |
|   |                      |        |       | проекта или             |
|   |                      |        |       | устанавливается         |
|   |                      |        |       | Оркестратором.          |
+---+----------------------+--------+-------+-------------------------+
| 2 | VersionComments      | YES    | nva   | Комментарии к текущей   |
| 4 |                      |        | rchar | версии                  |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | IdeaHubId            | YES    | nva   | Глобально-уникальный    |
| 5 |                      |        | rchar | идентификатор шаблона   |
| . |                      |        |       | проекта, определяемый в |
|   |                      |        |       | IdeaHub                 |
+---+----------------------+--------+-------+-------------------------+
| 2 | LimitedLaunch        | YES    | int   | Ограниченный запуск     |
| 6 |                      |        |       |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | SessionsReleaseDelay | NO     | int   | Задержка релиза сессии  |
| 7 |                      |        |       | (мсек) - сессия может   |
| . |                      |        |       | очень быстро            |
|   |                      |        |       | понадобиться; другому   |
|   |                      |        |       | роботу, чтобы её не     |
|   |                      |        |       | пересоздавать заново.   |
|   |                      |        |       | Только для              |
|   |                      |        |       | E                       |
|   |                      |        |       | xclusiveSessionsRelease |
|   |                      |        |       | = false                 |
+---+----------------------+--------+-------+-------------------------+
| 2 | Excl                 | NO     | bit   | Если поднят этот флаг,  |
| 8 | usiveSessionsRelease |        |       | робот, когда            |
| . |                      |        |       | освобождает сессию, не  |
|   |                      |        |       | смотрит на отсутствие   |
|   |                      |        |       | релиза сессии у других  |
|   |                      |        |       | роботов.; Должно        |
|   |                      |        |       | использоваться, когда   |
|   |                      |        |       | только один робот       |
|   |                      |        |       | закрывает сессию,;      |
|   |                      |        |       | чтобы не ломать работу  |
|   |                      |        |       | остальных роботов в     |
|   |                      |        |       | этой сессии             |
+---+----------------------+--------+-------+-------------------------+
| 2 | IgnorePro            | NO     | bit   | Завершение процесса     |
| 9 | jectCompletedTrigger |        |       | может триггерить запуск |
| . |                      |        |       | задания; Если false, то |
|   |                      |        |       | завершение процесса не  |
|   |                      |        |       | зажигает триггер        |
+---+----------------------+--------+-------+-------------------------+

## RpaProjectVariables

Привязка переменных проекта к заданию. Эти переменные считываются при
загрузке проекта. Их список и имена (и значение, если есть) --
фиксированы, через UI Оркестратора и роботами не меняется

+---+-------------+----------+--------+-------------------------------+
| № | Н           | Д        | Тип    | Описание                      |
|   | аименование | опускает | данных |                               |
| п | поля        | NULL     |        |                               |
| / |             |          |        |                               |
| п |             |          |        |                               |
+===+=============+==========+========+===============================+
| 1 | Id          | NO       | int    |                               |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 2 | ProjectId   | NO       | int    |                               |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 3 | Name        | YES      | nv     | Наименование переменной.      |
| . |             |          | archar | Уникальное в рамках проекта   |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 4 | Value       | YES      | nv     | Строковое представление       |
| . |             |          | archar | значения                      |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+
| 5 | Direction   | NO       | Int    | Направление                   |
| . |             |          |        |                               |
|   |             |          |        |                               |
|   |             |          |        |                               |
+---+-------------+----------+--------+-------------------------------+

## RpaProjectVariableTemps

Переменная Rpa-проекта, прочитанная из файла проекта и временно
сохраненная для привязки к проекту

+---+---------------+-----------+-----------+-------------------------+
| № | Наименование  | Допускает | Тип       | Описание                |
|   | поля          | NULL      | данных    |                         |
| п |               |           |           |                         |
| / |               |           |           |                         |
| п |               |           |           |                         |
+===+===============+===========+===========+=========================+
| 1 | Id            | NO        | int       |                         |
| . |               |           |           |                         |
|   |               |           |           |                         |
|   |               |           |           |                         |
+---+---------------+-----------+-----------+-------------------------+
| 2 | FileId        | NO        | uniquei   |                         |
| . |               |           | dentifier |                         |
|   |               |           |           |                         |
|   |               |           |           |                         |
+---+---------------+-----------+-----------+-------------------------+
| 3 | MainWorkflow  | NO        | nvarchar  |                         |
| . |               |           |           |                         |
|   |               |           |           |                         |
|   |               |           |           |                         |
+---+---------------+-----------+-----------+-------------------------+
| 4 | Name          | NO        | nvarchar  |                         |
| . |               |           |           |                         |
|   |               |           |           |                         |
|   |               |           |           |                         |
+---+---------------+-----------+-----------+-------------------------+
| 5 | Value         | YES       | nvarchar  | Строковое представление |
| . |               |           |           | значения                |
|   |               |           |           |                         |
|   |               |           |           |                         |
+---+---------------+-----------+-----------+-------------------------+
| 6 | Direction     | NO        | Int       | Направление             |
| . |               |           |           |                         |
|   |               |           |           |                         |
|   |               |           |           |                         |
+---+---------------+-----------+-----------+-------------------------+

## Schedules

Расписание

+---+----------------+---------+--------+----------------------------+
| № | Наименование   | До      | Тип    | Описание                   |
|   | поля           | пускает | данных |                            |
| п |                | NULL    |        |                            |
| / |                |         |        |                            |
| п |                |         |        |                            |
+===+================+=========+========+============================+
| 1 | Id             | NO      | int    |                            |
| . |                |         |        |                            |
|   |                |         |        |                            |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 2 | Name           | YES     | nv     | Наименование               |
| . |                |         | archar |                            |
|   |                |         |        |                            |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 3 | Description    | YES     | nv     | Описание                   |
| . |                |         | archar |                            |
|   |                |         |        |                            |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 4 | CronString     | YES     | nv     | Крон-строка расписания     |
| . |                |         | archar |                            |
|   |                |         |        |                            |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 5 | ScheduleJson   | YES     | nv     | Сериализованная в Json     |
| . |                |         | archar | ViewModel формы настройки  |
|   |                |         |        | расписания                 |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 6 | IgnoredSaSu    | NO      | bit    | Суббота и воскресенье -    |
| . |                |         |        | рабочие дни                |
|   |                |         |        |                            |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 7 | UseProd        | NO      | bit    | Согласовано с              |
| . | uctionCalendar |         |        | производственным           |
|   |                |         |        | календарем                 |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 8 | TenantId       | YES     | nv     | Идентификатор тенанта      |
| . |                |         | archar |                            |
|   |                |         |        |                            |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 9 | Schedu         | YES     | dat    | Дата последнего            |
| . | leModifiedDate |         | etime2 | редактирования расписания  |
|   |                |         |        |                            |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 1 | Produc         | YES     | int    | Согласовано с              |
| 0 | tionCalendarId |         |        | производственным           |
| . |                |         |        | календарем                 |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+
| 1 | Product        | YES     | int    | Согласовано с              |
| 1 | ionCalendar2Id |         |        | производственным           |
| . |                |         |        | календарем2                |
|   |                |         |        |                            |
+---+----------------+---------+--------+----------------------------+

## StatesSlaConfig

+---+-----------------------------+--------+------+-------------------+
| № | Наименование поля           | Доп    | Тип  | Описание          |
|   |                             | ускает | да   |                   |
| п |                             | NULL   | нных |                   |
| / |                             |        |      |                   |
| п |                             |        |      |                   |
+===+=============================+========+======+===================+
| 1 | Id                          | NO     | int  |                   |
| . |                             |        |      |                   |
|   |                             |        |      |                   |
|   |                             |        |      |                   |
+---+-----------------------------+--------+------+-------------------+
| 2 | AgentUnavailabilityFirstSec | NO     | int  | Продолжительность |
| . |                             |        |      | недоступности     |
|   |                             |        |      | Агента после      |
|   |                             |        |      | которой           |
|   |                             |        |      | считается, что он |
|   |                             |        |      | не доступен       |
+---+-----------------------------+--------+------+-------------------+
| 3 | Agent                       | NO     | int  | Продолжительность |
| . | UnavailabilityRepeatedlySec |        |      | недоступности     |
|   |                             |        |      | Агента после      |
|   |                             |        |      | которой           |
|   |                             |        |      | происходит        |
|   |                             |        |      | повторное         |
|   |                             |        |      | оповещение        |
+---+-----------------------------+--------+------+-------------------+
| 4 | RpaProjectQ                 | NO     | int  | Критическая длина |
| . | ueueRiseCriticalQueueLength |        |      | очереди           |
|   |                             |        |      |                   |
|   |                             |        |      |                   |
+---+-----------------------------+--------+------+-------------------+
| 5 | RpaPr                       | NO     | int  | Продолжительность |
| . | ojectQueueRiseRepeatedlySec |        |      | нахождения        |
|   |                             |        |      | очереди в         |
|   |                             |        |      | критическом       |
|   |                             |        |      | состоянии после   |
|   |                             |        |      | которой           |
|   |                             |        |      | происходит        |
|   |                             |        |      | повторное         |
|   |                             |        |      | оповещение        |
+---+-----------------------------+--------+------+-------------------+

## Tags

Тэг. Используется для поиска объектов

+----+-------------------+---------------+--------------+-------------+
| №  | Наименование поля | Допускает     | Тип данных   | Описание    |
|    |                   | NULL          |              |             |
| п  |                   |               |              |             |
| /п |                   |               |              |             |
+====+===================+===============+==============+=============+
| 1. | Id                | NO            | uniq         |             |
|    |                   |               | ueidentifier |             |
+----+-------------------+---------------+--------------+-------------+
| 2. | Value             | NO            | nvarchar     | Значение    |
|    |                   |               |              |             |
+----+-------------------+---------------+--------------+-------------+
| 3. | CreatedAt         | NO            | datetime2    | Дата        |
|    |                   |               |              | создания    |
+----+-------------------+---------------+--------------+-------------+

## Tenants

Тенант (для случая, когда тенанты хранятся в БД)

+---+---------------+-----+-----+--------------------------------------+
| № | Наименование  | Доп | Тип | Описание                             |
|   | поля          | уск | дан |                                      |
| п |               | ает | ных |                                      |
| / |               | N   |     |                                      |
| п |               | ULL |     |                                      |
+===+===============+=====+=====+======================================+
| 1 | Id            | NO  | nv  | Идентификатор тенанта                |
| . |               |     | arc |                                      |
|   |               |     | har |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 2 | Name          | NO  | nv  | Наименование тенанта                 |
| . |               |     | arc |                                      |
|   |               |     | har |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 3 | TimeOffset    | NO  | int | Смещение времени в часах             |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 4 | CreatedAt     | NO  | dat | Дата создания записи                 |
| . |               |     | eti |                                      |
|   |               |     | me2 |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 5 | UpdatedAt     | YES | dat | Дата изменения записи                |
| . |               |     | eti |                                      |
|   |               |     | me2 |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 6 | DeletedAt     | YES | dat | Дата удаления записи                 |
| . |               |     | eti |                                      |
|   |               |     | me2 |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 7 | Email         | YES | nv  |                                      |
| . |               |     | arc |                                      |
|   |               |     | har |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 8 | Password      | YES | nv  |                                      |
| . |               |     | arc |                                      |
|   |               |     | har |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 9 | Pop3          | YES | nv  |                                      |
| . |               |     | arc |                                      |
|   |               |     | har |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | Pop3Port      | YES | int |                                      |
| 0 |               |     |     |                                      |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | Requir        | YES | bit |                                      |
| 1 | eAuthenticate |     |     |                                      |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | UseSsl        | YES | bit |                                      |
| 2 |               |     |     |                                      |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | AgentHttps    | NO  | bit | Использовать Https при обращении к   |
| 3 |               |     |     | агенту                               |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | UseStand      | YES | bit | Поставить true, если почтовик        |
| 4 | artNotSSLPort |     |     | настроен на один из стандартных      |
| . |               |     |     | портов (SMTP:25 or                   |
|   |               |     |     | 587,POP3:110,IMAP:143); (не зависит  |
|   |               |     |     | от настройки UseSsl); Подробнее:     |
|   |               |     |     | https                                |
|   |               |     |     | ://github.com/jstedfast/MailKit/blob |
|   |               |     |     | /master/FAQ.md#SslHandshakeException |
+---+---------------+-----+-----+--------------------------------------+
| 1 | Login         | YES | nv  | Если задано, используется вместо     |
| 5 |               |     | arc | Email                                |
| . |               |     | har |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | R             | YES | bit | Удалять письмо после получения       |
| 6 | emoveReceived |     |     |                                      |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | Rpa           | YES | int | Параметры очереди проектов на        |
| 7 | ProjectQueueP |     |     | выполнение; Если не задан,           |
| . | rocessingType |     |     | используется из GeneralSettings      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | ImapPort      | YES | int | \-                                   |
| 8 |               |     |     |                                      |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 1 | ImapFolder    | YES | nv  | \-                                   |
| 9 |               |     | arc |                                      |
| . |               |     | har |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 2 | Imap          | YES | nv  | \-                                   |
| 0 |               |     | arc |                                      |
| . |               |     | har |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 2 | AgentPort     | NO  | int | Порт агента                          |
| 1 |               |     |     |                                      |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+
| 2 | AgentTimeout  | NO  | int | Тайм-аут обращения к агенту          |
| 2 |               |     |     |                                      |
| . |               |     |     |                                      |
|   |               |     |     |                                      |
+---+---------------+-----+-----+--------------------------------------+

## Triggers

Триггер для задания

+---+----------------------+--------+-----------+--------------------+
| № | Наименование поля    | Доп    | Тип       | Описание           |
|   |                      | ускает | данных    |                    |
| п |                      | NULL   |           |                    |
| / |                      |        |           |                    |
| п |                      |        |           |                    |
+===+======================+========+===========+====================+
| 1 | Id                   | NO     | int       |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 2 | Type                 | NO     | int       | Тип триггера       |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 3 | CreatedAt            | NO     | datetime2 | Дата создания      |
| . |                      |        |           | триггера           |
|   |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 4 | UpdatedAt            | YES    | datetime2 | Дата изменения     |
| . |                      |        |           | триггера           |
|   |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 5 | AssignmentId         | NO     | int       |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 6 | FiredAt              | YES    | datetime2 | Дата срабатывания  |
| . |                      |        |           | триггера           |
|   |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 7 | LastErrorMsg         | YES    | nvarchar  | Сообщение об       |
| . |                      |        |           | ошибке при         |
|   |                      |        |           | последнем          |
|   |                      |        |           | срабатывании       |
+---+----------------------+--------+-----------+--------------------+
| 8 | ScheduleId           | YES    | int       | Расписание         |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 9 | NextFiredAt          | YES    | datetime2 | Дата следующего    |
| . |                      |        |           | запуска триггера   |
|   |                      |        |           | шедулера           |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | IncomingEmailId      | YES    | int       |                    |
| 0 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | ExchangeQueueId      | YES    | uniquei   | Очередь обмена     |
| 1 |                      |        | dentifier | данными            |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | WorkerId             | YES    | int       | Машина Робота      |
| 2 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | WorkerFolder         | YES    | nvarchar  | Папка на машине    |
| 3 |                      |        |           | Робота             |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | RpaProjectId         | YES    | int       |                    |
| 4 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | ProjectCompletedOk   | YES    | bit       |                    |
| 5 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | P                    | YES    | bit       |                    |
| 6 | rojectCompletedError |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | ByWorker             | YES    | bit       | True - Папка на    |
| 7 |                      |        |           | машине Робота      |
| . |                      |        |           |                    |
|   |                      |        |           | False - Сетевая    |
|   |                      |        |           | шара               |
+---+----------------------+--------+-----------+--------------------+
| 1 | ShareFolder          | YES    | nvarchar  | Сетевая шара       |
| 8 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 1 | LockAt               | YES    | datetime2 | Блокировка         |
| 9 |                      |        |           | (служебное поле),  |
| . |                      |        |           | чтобы одновременно |
|   |                      |        |           | несколько          |
|   |                      |        |           | инстансов не       |
|   |                      |        |           | поставили в        |
|   |                      |        |           | очередь выполнение |
|   |                      |        |           | проекта задания    |
|   |                      |        |           | этого триггера     |
+---+----------------------+--------+-----------+--------------------+
| 2 | NodeLock             | YES    | int       | Идентификатор      |
| 0 |                      |        |           | ноды,              |
| . |                      |        |           | заблокировавшей    |
|   |                      |        |           | триггер в БД       |
+---+----------------------+--------+-----------+--------------------+
| 2 | Version              | NO     | int       | Служебное поле для |
| 1 |                      |        |           | разруливания       |
| . |                      |        |           | конкурентного      |
|   |                      |        |           | доступа            |
+---+----------------------+--------+-----------+--------------------+
| 2 | IncomingFrom         | YES    | nvarchar  |                    |
| 2 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 2 | IncomingSubject      | YES    | nvarchar  |                    |
| 3 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 2 | IncomingE            | YES    | int       | Интервал запросов  |
| 4 | mailIntevalInSeconds |        |           | к почтовому        |
| . |                      |        |           | серверу            |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 2 | Inc                  | YES    | int       | Максимальное       |
| 5 | omingEmailWindowSize |        |           | количество писем,  |
| . |                      |        |           | забираемых за один |
|   |                      |        |           | раз                |
+---+----------------------+--------+-----------+--------------------+
| 2 | ChangeType           | YES    | int       |                    |
| 6 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 2 | FullPath             | YES    | nvarchar  |                    |
| 7 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 2 | OldFullPath          | YES    | nvarchar  |                    |
| 8 |                      |        |           |                    |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 2 | WatcherFilter        | YES    | nvarchar  | Фильтр для         |
| 9 |                      |        |           | содержимого папки  |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 3 | FiredAtEmail         | YES    | datetime2 | Дата срабатывания  |
| 0 |                      |        |           | от получения новых |
| . |                      |        |           | писем              |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 3 | FromRobotId          | YES    | int       | Робот, который     |
| 1 |                      |        |           | зажег триггер      |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 3 | CountN               | YES    | int       | Количество новых   |
| 2 | ewExchangeQueueItems |        |           | элементоы очереди, |
| . |                      |        |           | при наличии        |
|   |                      |        |           | которого сработает |
|   |                      |        |           | триггер            |
+---+----------------------+--------+-----------+--------------------+
| 3 | CronString           | YES    | nvarchar  | Крон-строка        |
| 3 |                      |        |           | расписания, по     |
| . |                      |        |           | которой происходит |
|   |                      |        |           | запуск опроса      |
|   |                      |        |           | очереди            |
+---+----------------------+--------+-----------+--------------------+
| 3 | Interval             | YES    | int       | Интервал опроса в  |
| 4 |                      |        |           | минутах            |
| . |                      |        |           |                    |
|   |                      |        |           |                    |
+---+----------------------+--------+-----------+--------------------+
| 3 | FiredAtNewItems      | YES    | datetime2 | Дата срабатывания  |
| 5 |                      |        |           | от наличия в       |
| . |                      |        |           | очереди новых      |
|   |                      |        |           | элементов          |
+---+----------------------+--------+-----------+--------------------+
| 3 | Tags                 | YES    | nvarchar  | Строка тэгов,      |
| 6 |                      |        |           | через запятую.     |
| . |                      |        |           | Если заданы, то    |
|   |                      |        |           | только на элементы |
|   |                      |        |           | с данными тэгами   |
|   |                      |        |           | будет триггериться |
+---+----------------------+--------+-----------+--------------------+
| 3 | HardKill             | YES    | bit       | Если установлено и |
| 7 |                      |        |           | True -             |
| . |                      |        |           | принудительная     |
|   |                      |        |           | остановка робота с |
|   |                      |        |           | проектом; Если     |
|   |                      |        |           | установлено и      |
|   |                      |        |           | False - поднять    |
|   |                      |        |           | флаг мягкой        |
|   |                      |        |           | остановки          |
+---+----------------------+--------+-----------+--------------------+

## UserRobotQuotas

Квота пользователя на лицензии робота

+---+----------------+----------+--------+----------------------------+
| № | Наименование   | Д        | Тип    | Описание                   |
|   | поля           | опускает | данных |                            |
| п |                | NULL     |        |                            |
| / |                |          |        |                            |
| п |                |          |        |                            |
+===+================+==========+========+============================+
| 1 | Id             | NO       | int    |                            |
| . |                |          |        |                            |
|   |                |          |        |                            |
|   |                |          |        |                            |
+---+----------------+----------+--------+----------------------------+
| 2 | UserId         | NO       | nv     | Идентификатор пользователя |
| . |                |          | archar | из БД ltoolsidentity       |
|   |                |          |        |                            |
|   |                |          |        |                            |
+---+----------------+----------+--------+----------------------------+
| 3 | Enterp         | YES      | int    | Квота на Enterprise        |
| . | riseRobotQuota |          |        | лицензии                   |
|   |                |          |        |                            |
|   |                |          |        |                            |
+---+----------------+----------+--------+----------------------------+
| 4 | Stan           | YES      | int    | Квота на Standard лицензии |
| . | dardRobotQuota |          |        |                            |
|   |                |          |        |                            |
|   |                |          |        |                            |
+---+----------------+----------+--------+----------------------------+
| 5 | TenantId       | YES      | nv     | Идентификатор тенанта      |
| . |                |          | archar |                            |
|   |                |          |        |                            |
|   |                |          |        |                            |
+---+----------------+----------+--------+----------------------------+
| 6 | Des            | YES      | int    | Квота на Desktop лицензии  |
| . | ktopRobotQuota |          |        |                            |
|   |                |          |        |                            |
|   |                |          |        |                            |
+---+----------------+----------+--------+----------------------------+

## UserSystemEventTypes

Тип события, на которое может подписаться пользователь, чтобы приходили
уведомления

+----+---------------------+----------------+------------+-----------+
| №  | Наименование поля   | Допускает NULL | Тип данных | Описание  |
|    |                     |                |            |           |
| п  |                     |                |            |           |
| /п |                     |                |            |           |
+====+=====================+================+============+===========+
| 1. | Id                  | NO             | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 2. | EventType           | NO             | int        |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+
| 3. | UserId              | YES            | nvarchar   |           |
|    |                     |                |            |           |
+----+---------------------+----------------+------------+-----------+

## UserUISettings

Клиентские настройки для пользователя

+---+----------------+-------------+---------+------------------------+
| № | Наименование   | Допускает   | Тип     | Описание               |
|   | поля           | NULL        | данных  |                        |
| п |                |             |         |                        |
| / |                |             |         |                        |
| п |                |             |         |                        |
+===+================+=============+=========+========================+
| 1 | Id             | NO          | int     |                        |
| . |                |             |         |                        |
|   |                |             |         |                        |
|   |                |             |         |                        |
+---+----------------+-------------+---------+------------------------+
| 2 | UserName       | YES         | n       | Имя пользователя       |
| . |                |             | varchar |                        |
|   |                |             |         |                        |
|   |                |             |         |                        |
+---+----------------+-------------+---------+------------------------+
| 3 | Settings       | YES         | n       | Строка данных с        |
| . |                |             | varchar | настройками            |
|   |                |             |         |                        |
|   |                |             |         |                        |
+---+----------------+-------------+---------+------------------------+
| 4 | TenantId       | YES         | n       | \-                     |
| . |                |             | varchar |                        |
|   |                |             |         |                        |
|   |                |             |         |                        |
+---+----------------+-------------+---------+------------------------+

## WorkerIpAddresses

IP-адреса машин Роботов, которые агенты сообщили Оркестратору

+---+-----------------+-------------+----------+---------------------+
| № | Наименование    | Допускает   | Тип      | Описание            |
|   | поля            | NULL        | данных   |                     |
| п |                 |             |          |                     |
| / |                 |             |          |                     |
| п |                 |             |          |                     |
+===+=================+=============+==========+=====================+
| 1 | Id              | NO          | int      |                     |
| . |                 |             |          |                     |
|   |                 |             |          |                     |
|   |                 |             |          |                     |
+---+-----------------+-------------+----------+---------------------+
| 2 | Key             | NO          | nvarchar | Идентификатор       |
| . |                 |             |          | машины              |
|   |                 |             |          |                     |
|   |                 |             |          |                     |
+---+-----------------+-------------+----------+---------------------+
| 3 | IpAddress       | NO          | nvarchar | IP-адрес            |
| . |                 |             |          |                     |
|   |                 |             |          |                     |
|   |                 |             |          |                     |
+---+-----------------+-------------+----------+---------------------+
| 4 | CreatedAt       | NO          | d        | Дата создания       |
| . |                 |             | atetime2 | записи              |
|   |                 |             |          |                     |
|   |                 |             |          |                     |
+---+-----------------+-------------+----------+---------------------+

## WorkerNoRdpPeriods

Периоды \"простоя\" машины роботов - когда не поднята ни одна RDP-сессия
для оркестраторных роботов (учитываются только сессии, поднятые службой
RDP2)

+---+------------+---------+-----------+------------------------------+
| № | На         | До      | Тип       | Описание                     |
|   | именование | пускает | данных    |                              |
| п | поля       | NULL    |           |                              |
| / |            |         |           |                              |
| п |            |         |           |                              |
+===+============+=========+===========+==============================+
| 1 | Id         | NO      | uniquei   |                              |
| . |            |         | dentifier |                              |
|   |            |         |           |                              |
|   |            |         |           |                              |
+---+------------+---------+-----------+------------------------------+
| 2 | I          | YES     | bit       | Признак техперерыва для      |
| . | sPauseFlag |         |           | службы RDP2                  |
|   |            |         |           |                              |
|   |            |         |           |                              |
+---+------------+---------+-----------+------------------------------+
| 3 | S          | YES     | datetime2 | Дата/время начала периода    |
| . | tartededAt |         |           | простоя.; Включает           |
|   |            |         |           | погрешность в один шаг       |
|   |            |         |           | работы службы RDP2 (по       |
|   |            |         |           | умолчанию 5 сек.)            |
+---+------------+---------+-----------+------------------------------+
| 4 | StoppeddAt | YES     | datetime2 | Дата/время завершения        |
| . |            |         |           | простоя.; Включает           |
|   |            |         |           | погрешность в один шаг       |
|   |            |         |           | работы службы RDP2 (по       |
|   |            |         |           | умолчанию 5 сек.)            |
+---+------------+---------+-----------+------------------------------+
| 5 | WorkerId   | NO      | int       | Идентификатор машины роботов |
| . |            |         |           |                              |
|   |            |         |           |                              |
|   |            |         |           |                              |
+---+------------+---------+-----------+------------------------------+

## Workers

Машина робота

+---+----------------------+--------+-------+-------------------------+
| № | Наименование поля    | Доп    | Тип   | Описание                |
|   |                      | ускает | д     |                         |
| п |                      | NULL   | анных |                         |
| / |                      |        |       |                         |
| п |                      |        |       |                         |
+===+======================+========+=======+=========================+
| 1 | Id                   | NO     | int   |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | Name                 | YES    | nva   | Произвольное            |
| . |                      |        | rchar | наименование            |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 3 | IpAddress            | YES    | nva   | IP или DNS              |
| . |                      |        | rchar |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 4 | AdminName            | YES    | nva   | Логин администратора    |
| . |                      |        | rchar |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 5 | AdminPassword        | YES    | nva   | Пароль администратора   |
| . |                      |        | rchar |                         |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 6 | Disabled             | NO     | bit   | Принзак логического     |
| . |                      |        |       | удаления                |
|   |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 7 | TestSucceededDate    | YES    | date  | Дата тестирования       |
| . |                      |        | time2 | доступности рабочей     |
|   |                      |        |       | машины                  |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 8 | TestSucceeded        | YES    | bit   | Результат тестирования  |
| . |                      |        |       | доступности рабочей     |
|   |                      |        |       | машины                  |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 9 | NoSuccesRaiseDate    | YES    | date  | Дата начала             |
| . |                      |        | time2 | недоступности. Как      |
|   |                      |        |       | становится доступной,   |
|   |                      |        |       | эта дата обнуляется     |
+---+----------------------+--------+-------+-------------------------+
| 1 | Notificated          | YES    | bit   | Событие                 |
| 0 |                      |        |       | до                      |
| . |                      |        |       | ступности/недоступности |
|   |                      |        |       | отправлено              |
+---+----------------------+--------+-------+-------------------------+
| 1 | TenantId             | YES    | nva   | Идентификатор тенанта   |
| 1 |                      |        | rchar |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | MaxSimulRobotCount   | YES    | int   | Максимальное количество |
| 2 |                      |        |       | одновременно работающих |
| . |                      |        |       | роботов                 |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | Cu                   | NO     | int   | Текущее количество      |
| 3 | rrentSimulRobotCount |        |       | одновременно работающих |
| . |                      |        |       | роботов                 |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 1 | IsRunning            | NO     | bit   | Признак                 |
| 4 |                      |        |       | вкл/выключенного        |
| . |                      |        |       | Агента, выключенный     |
|   |                      |        |       | Агент отличается от     |
|   |                      |        |       | недоступного и не       |
|   |                      |        |       | участвует в опросах     |
|   |                      |        |       | машин роботов,; в лог   |
|   |                      |        |       | не пишутся сообщения о  |
|   |                      |        |       | недоступности.          |
+---+----------------------+--------+-------+-------------------------+
| 1 | MemoryPrcnt          | YES    | nu    | \% RAM (среднее         |
| 5 |                      |        | meric | значение из полученной  |
| . |                      |        |       | пачки); Собирается из   |
|   |                      |        |       | метрик                  |
|   |                      |        |       | производительности при  |
|   |                      |        |       | опросе состояния машины |
|   |                      |        |       | робота                  |
+---+----------------------+--------+-------+-------------------------+
| 1 | LoadingDynamicAt     | YES    | date  | Дата фиксации           |
| 6 |                      |        | time2 | информации о динамике   |
| . |                      |        |       | нагрузки.;              |
|   |                      |        |       | Проставляется при       |
|   |                      |        |       | получении метрик        |
|   |                      |        |       | производительности при  |
|   |                      |        |       | опросе состояния машины |
|   |                      |        |       | робота,; если нагрузка  |
|   |                      |        |       | существенно поменялась. |
|   |                      |        |       | Используется для        |
|   |                      |        |       | определения факта, что  |
|   |                      |        |       | текущая нагрузка;       |
|   |                      |        |       | держится достаточно     |
|   |                      |        |       | долго в некотором       |
|   |                      |        |       | диапазоне               |
+---+----------------------+--------+-------+-------------------------+
| 1 | LoadingDynamic       | YES    | int   | Динамика нагрузки;      |
| 7 |                      |        |       | Вычисляется при опросе  |
| . |                      |        |       | состояния машины робота |
|   |                      |        |       | и текущих               |
|   |                      |        |       | зафиксированных         |
|   |                      |        |       | параметров нагрузки     |
+---+----------------------+--------+-------+-------------------------+
| 1 | CPUPrcnt             | YES    | nu    | \% CPU (среднее         |
| 8 |                      |        | meric | значение из полученной  |
| . |                      |        |       | пачки); Собирается из   |
|   |                      |        |       | метрик                  |
|   |                      |        |       | производительности при  |
|   |                      |        |       | опросе состояния машины |
|   |                      |        |       | робота                  |
+---+----------------------+--------+-------+-------------------------+
| 1 | NoRdpPa              | YES    | int   | Длительность паузы без  |
| 9 | useDurationInSeconds |        |       | сессий роботов          |
| . |                      |        |       | (оркестраторных).       |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | NeedNoRdpPause       | YES    | bit   | Флаг поднимается если   |
| 0 |                      |        |       | нужно устроить          |
| . |                      |        |       | \"паузу\" на машине без |
|   |                      |        |       | сессий роботов          |
|   |                      |        |       | (оркестраторных).; Флаг |
|   |                      |        |       | сбрасывается            |
|   |                      |        |       | автоматически после     |
|   |                      |        |       | начала паузы.           |
+---+----------------------+--------+-------+-------------------------+
| 2 | IsNoRdpPause         | YES    | bit   | Флаг поднимается        |
| 1 |                      |        |       | автоматические если     |
| . |                      |        |       | установлен              |
|   |                      |        |       | NeedNoRdpPause и на     |
|   |                      |        |       | сервере нет активных    |
|   |                      |        |       | сессий роботов          |
|   |                      |        |       | (оркестраторных); Флаг  |
|   |                      |        |       | сбрасывается            |
|   |                      |        |       | автоматически по        |
|   |                      |        |       | истечении паузы         |
|   |                      |        |       | (длительность задается  |
|   |                      |        |       | в                       |
|   |                      |        |       | NoRdpP                  |
|   |                      |        |       | auseDurationInSeconds). |
+---+----------------------+--------+-------+-------------------------+
| 2 | NodeId               | YES    | int   | Идентификатор ноды,     |
| 2 |                      |        |       | которая меняла запись   |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | Linux                | YES    | bit   | Linux-машина            |
| 3 |                      |        |       |                         |
| . |                      |        |       |                         |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+
| 2 | AgentVersion         | YES    | nva   | Версия Агента, которую  |
| 4 |                      |        | rchar | агент отдает при его    |
| . |                      |        |       | опросе                  |
|   |                      |        |       |                         |
+---+----------------------+--------+-------+-------------------------+

# **Оглавление** {#оглавление .TOC-Heading}

[**Описание структуры БД ltools**
[1](#описание-структуры-бд-ltools)](#описание-структуры-бд-ltools)

[\_\_EFMigrationsHistory
[1](#efmigrationshistory)](#efmigrationshistory)

[Agents [1](#agents)](#agents)

[Assets [2](#assets)](#assets)

[AssetRobots [3](#assetrobots)](#assetrobots)

[Assignments [3](#assignments)](#assignments)

[AssignmentSchedulerSignalNodeConfirms
[4](#assignmentschedulersignalnodeconfirms)](#assignmentschedulersignalnodeconfirms)

[AssignmentVariables [5](#assignmentvariables)](#assignmentvariables)

[BlackWhiteIpStudioRules
[5](#blackwhiteipstudiorules)](#blackwhiteipstudiorules)

[BusyRobotLicenseItems
[5](#busyrobotlicenseitems)](#busyrobotlicenseitems)

[BusyRobotLicenses [6](#busyrobotlicenses)](#busyrobotlicenses)

[BusyStudioLicenses [6](#busystudiolicenses)](#busystudiolicenses)

[ConfigHash [6](#confighash)](#confighash)

[CurrentSystemParameters
[6](#currentsystemparameters)](#currentsystemparameters)

[DeployTemplates [6](#deploytemplates)](#deploytemplates)

[ExchangeQueueRobotPermissions
[7](#exchangequeuerobotpermissions)](#exchangequeuerobotpermissions)

[ExchangeQueues [7](#exchangequeues)](#exchangequeues)

[ExchangeQueueStatisticAvgs
[9](#exchangequeuestatisticavgs)](#exchangequeuestatisticavgs)

[ExchangeQueueStatistics
[10](#exchangequeuestatistics)](#exchangequeuestatistics)

[ExchangeQueueValueEvents
[10](#exchangequeuevalueevents)](#exchangequeuevalueevents)

[ExchangeQueueValueMetadata
[11](#exchangequeuevaluemetadata)](#exchangequeuevaluemetadata)

[ExchangeQueueValuePrefetchReadeds
[11](#exchangequeuevalueprefetchreadeds)](#exchangequeuevalueprefetchreadeds)

[ExchangeQueueValues [11](#exchangequeuevalues)](#exchangequeuevalues)

[ExchangeQueueValueTags
[13](#exchangequeuevaluetags)](#exchangequeuevaluetags)

[ExchangeQueueValuesRobotLocks
[14](#exchangequeuevaluesrobotlocks)](#exchangequeuevaluesrobotlocks)

[FolderObjects [14](#folderobjects)](#folderobjects)

[FolderObjects2 [14](#folderobjects2)](#folderobjects2)

[Folders [15](#folders)](#folders)

[Folders2 [15](#folders2)](#folders2)

[FolderUsers [15](#folderusers)](#folderusers)

[FolderUsers2 [16](#folderusers2)](#folderusers2)

[GeneralSettings [16](#generalsettings)](#generalsettings)

[IncomingEmailLogs [17](#incomingemaillogs)](#incomingemaillogs)

[IncomingEmails [17](#incomingemails)](#incomingemails)

[IncomingEmailWindowLogs
[18](#incomingemailwindowlogs)](#incomingemailwindowlogs)

[IPv4Addresses [18](#ipv4addresses)](#ipv4addresses)

[IPv4Masks [19](#ipv4masks)](#ipv4masks)

[LoadTests [19](#loadtests)](#loadtests)

[LoadTestScheduleItemActiveRobots
[19](#loadtestscheduleitemactiverobots)](#loadtestscheduleitemactiverobots)

[LoadTestScheduleItemActives
[20](#loadtestscheduleitemactives)](#loadtestscheduleitemactives)

[LoadTestScheduleItems
[20](#loadtestscheduleitems)](#loadtestscheduleitems)

[LoadTestSchedules [20](#loadtestschedules)](#loadtestschedules)

[LoadTestScopes [21](#loadtestscopes)](#loadtestscopes)

[LoadTestScopeSchedulerSignalNodeConfirms
[21](#loadtestscopeschedulersignalnodeconfirms)](#loadtestscopeschedulersignalnodeconfirms)

[LoadTestScopeTriggers
[21](#loadtestscopetriggers)](#loadtestscopetriggers)

[LogsDump [22](#logsdump)](#logsdump)

[Nodes [22](#nodes)](#nodes)

[NuGetTasks [23](#nugettasks)](#nugettasks)

[ProductionCalendars [23](#productioncalendars)](#productioncalendars)

[ProductionCalendar2 [23](#productioncalendar2)](#productioncalendar2)

[ProductionCalendar2Items
[24](#productioncalendar2items)](#productioncalendar2items)

[Rdp2AddressFilters [24](#rdp2addressfilters)](#rdp2addressfilters)

[RobotAgentSessions [24](#robotagentsessions)](#robotagentsessions)

[RobotDeployTrackings
[24](#robotdeploytrackings)](#robotdeploytrackings)

[RobotDistrExistsNodeConfirms
[25](#robotdistrexistsnodeconfirms)](#robotdistrexistsnodeconfirms)

[RobotDistrs [25](#robotdistrs)](#robotdistrs)

[RobotGroupItems [26](#robotgroupitems)](#robotgroupitems)

[RobotGroups [26](#robotgroups)](#robotgroups)

[Robots [26](#robots)](#robots)

[RobotSoftKillSignals
[28](#robotsoftkillsignals)](#robotsoftkillsignals)

[RobotStartTrackings [28](#robotstarttrackings)](#robotstarttrackings)

[RobotUnlockQueue [28](#robotunlockqueue)](#robotunlockqueue)

[RolePermissions [29](#rolepermissions)](#rolepermissions)

[RootFolderUsers2 [29](#rootfolderusers2)](#rootfolderusers2)

[RpaProjectArchiveExistsNodeConfirms
[29](#rpaprojectarchiveexistsnodeconfirms)](#rpaprojectarchiveexistsnodeconfirms)

[RpaProjectArchives [29](#rpaprojectarchives)](#rpaprojectarchives)

[RpaProjectLaunches [30](#rpaprojectlaunches)](#rpaprojectlaunches)

[RpaProjectLaunchVariables
[31](#rpaprojectlaunchvariables)](#rpaprojectlaunchvariables)

[RpaProjectQueue [32](#rpaprojectqueue)](#rpaprojectqueue)

[RpaProjectRobots [33](#rpaprojectrobots)](#rpaprojectrobots)

[RpaProjectTags [33](#rpaprojecttags)](#rpaprojecttags)

[RpaProjectWorkflows [33](#rpaprojectworkflows)](#rpaprojectworkflows)

[RpaProjects [33](#rpaprojects)](#rpaprojects)

[RpaProjectVariables [35](#rpaprojectvariables)](#rpaprojectvariables)

[RpaProjectVariableTemps
[35](#rpaprojectvariabletemps)](#rpaprojectvariabletemps)

[Schedules [35](#schedules)](#schedules)

[StatesSlaConfig [36](#statesslaconfig)](#statesslaconfig)

[Tags [36](#tags)](#tags)

[Tenants [36](#tenants)](#tenants)

[Triggers [37](#triggers)](#triggers)

[UserRobotQuotas [39](#userrobotquotas)](#userrobotquotas)

[UserSystemEventTypes
[39](#usersystemeventtypes)](#usersystemeventtypes)

[UserUISettings [39](#useruisettings)](#useruisettings)

[WorkerIpAddresses [40](#workeripaddresses)](#workeripaddresses)

[WorkerNoRdpPeriods [40](#workernordpperiods)](#workernordpperiods)

[Workers [40](#workers)](#workers)

[^1]: Здесь и далее системные таблицы использовать пользователю
    запрещено. За исключением согласованных с Вендором случаев. Иначе
    это может привести к краху системы

[^2]: Название таблицы оставлено для совместимости, не соответствует её
    использованию

[^3]: Здесь и далее из документации к библиотеке подключения

[^4]: Устаревшее. Связь с роботами через таблицу AssetRobots

[^5]: Зарезервировано

[^6]: Зарезервировано

[^7]: Зарезервировано

[^8]: Зарезервировано

[^9]: Зарезервировано

[^10]: Зарезервировано

[^11]: Зарезервировано

[^12]: Зарезервировано

[^13]: Зарезервировано

[^14]: Зарезервировано

[^15]: Зарезервировано
